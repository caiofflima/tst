<!-- Page Header-->
<div class="col-md-12 breadcrumb-header">
  <ul class="breadcrumb">
    <li><span routerLink="/" class="voltar"><i class="fa fa-arrow-left" aria-hidden="true"></i>Voltar</span></li>
    <a routerLink="/home">
      <i class="fa fa-home"></i>
      Home</a>
    <i class="fa fa-chevron-right"></i>
    <a routerLink="/novo-pedido-autorizador">
      Nova Autorização Prévia
    </a>
  </ul>
</div>

<header class="page-header">
  <div class="container-fluid">
    <h2 class="no-margin-bottom">Pedido de Autorização Prévia</h2>
  </div>
</header>
<!-- Page Header-->
<section class="container-fluid">
  <div class="row col-md-12">
    <div class="col-md-2">
      <label class="control-label" for="numeroCartao">Cartão de Identificação</label>
      <input type="text" id="numeroCartao" [formControl]="numeroCartao" name="numeroCartao" class="form-control"
             title="Informe o número da carteira do beneficiário"
             [textMask]="{mask: maskCI}">
    </div>
    <div class="col-md-2">
      <label class="control-label" for="cpf">CPF</label>
      <input type="text" id="cpf" [formControl]="cpf" name="cpf" class="form-control"
             title="Informe o CPF do beneficiário" [textMask]="{mask: maskCPF}">
    </div>
  </div>
  <div class="col-xs-12 barra-botoes">
    <button id="btnPesquisar"
            class="btn btn-primary"
            title="Pesquisar Beneficiário"
            (click)="pesquisarBeneficiario()">
      <span class="fa fa-search fa-fw"></span>Pesquisar
    </button>
    <button id="btnLimparCampos"
            class="btn back-btn"
            (click)="limparCampos()">
      <span class="fa fa-trash fa-fw"></span>Limpar Campos
    </button>
  </div>
  <div class="clearfix"></div>
  <div *ngIf="isTitular() && resultadoVisivel">
    <div class="row col-md-9">
      <h4>Resultado da Consulta</h4>
    </div>
    <p-table
      [value]="beneficiarios"
      styleClass="table table-striped table-sm table-hover">
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="2">{{bundle('MA003')}}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th scope="col" style="text-align:left">Beneficiário</th>
          <th scope="col" style="width:5%">Ação</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-row>
        <tr>
          <td style="text-align:left">{{row.nome}}</td>
          <td>
            <button class="btn btn-info" (click)="novaSolicitacao(row);">
              <span class="fa fa-archive fa-fw"></span>
            </button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</section>
