<div class="breadcrumb-container">
  <ul class="breadcrumb">
    <li>
      <a routerLink="/home">Início</a>
      <i class="fa fa-angle-right" aria-hidden="true"></i>
    </li>
    <li>
      Administração
      <i class="fa fa-angle-right" aria-hidden="true"></i>
    </li>
    <li>
      <a routerLink="/manutencao/consulta/pedidos">Consultar Pedidos</a>
    </li>
  </ul>
</div>

<div class="page-container">
  <dsc-card>
    <div class="page-header">
      <h1 class="page-title">Consultar Pedidos</h1>
    </div>

    <form [formGroup]="formulario" class="search-form">
      <!-- Dados dos Pedidos -->
      <div class="section-container">
        <h2 class="section-title">Dados dos Pedidos</h2>
        
        <div class="form-grid">
          <div class="form-field form-field--small">
            <asc-input-text
              inputId="numeroProcesso"
              label="Pedido"
              [control]="formulario.get('idPedido')"
              [maxlength]="8"
              [somenteNumeros]="true"
              placeholder="Digite o número"
              hint="Buscar um pedido específico"
            ></asc-input-text>
          </div>

          <div class="form-field form-field--medium">
            <asc-dropdown
  [control]="$any(formulario.get('tiposProcesso'))"
  [items]="optionsTipoProcesso"
  placeholder="Selecione os tipos"
  label="Tipo de Pedido"
></asc-dropdown>
          </div>

          <div class="form-field form-field--medium">
            <asc-dropdown
  [control]="$any(formulario.get('situacoesProcesso'))"
  [items]="optionsSituacaoProcesso"
  placeholder="Selecione as situações"
  label="Situação do Pedido"
></asc-dropdown>
          </div>

          <div class="form-field form-field--medium">
            <asc-dropdown
  [control]="$any(formulario.get('condicaoProcesso'))"
  [items]="optionsCondicaoProcesso"
  [placeholder]="bundle('MHSPH')"
  label="Condição do Pedido"
></asc-dropdown>
          </div>

          <div class="form-field form-field--small">
            <asc-dropdown
  [control]="$any(formulario.get('ufsProcesso'))"
  [items]="optionsUF"
  placeholder="Selecione as UFs"
  label="UF"
></asc-dropdown>
          </div>

          <div class="form-field form-field--medium">
            <asc-dropdown
  [control]="$any(formulario.get('filiaisProcesso'))"
  [items]="optionsFilial"
  placeholder="Selecione as filiais"
  label="Agrupadora"
></asc-dropdown>
          </div>

          <div class="form-field form-field--small">
            <asc-dropdown
  [control]="$any(formulario.get('ufAtendimento'))"
  [items]="optionsUF"
  [placeholder]="bundle('MHSPH')"
  label="UF de Atendimento"
  (selected)="onChangeUFAtendimento()"
></asc-dropdown>
          </div>

          <div class="form-field form-field--medium">
            <asc-dropdown
  [control]="$any(formulario.get('municipioAtendimento'))"
  [items]="optionsMunicipio"
  [placeholder]="bundle('MHSPH')"
  label="Município de Atendimento"
></asc-dropdown>
          </div>
        </div>
      </div>

      <!-- Dados do Titular/Beneficiários -->
      <div class="section-container">
        <h2 class="section-title">Dados do Titular/Beneficiários</h2>
        
        <div class="form-grid">
          <div class="form-field form-field--medium">
            <asc-dropdown
  [control]="$any(formulario.get('tiposBeneficiario'))"
  [items]="optionsTipoBeneficiario"
  placeholder="Selecione os tipos"
  label="Tipo de Beneficiário"
></asc-dropdown>
          </div>

          <div class="form-field form-field--small">
            <asc-input-text
              inputId="matriculaTitular"
              label="Matrícula do Titular"
              [control]="formulario.get('matriculaTitular')"
              maskName="matriculaMaskDisk"
              placeholder="000000-0"
              hint="Filtrar pela matrícula do titular"
            ></asc-input-text>
          </div>

          <div class="form-field form-field--small">
            <asc-input-text
              inputId="codigoBeneficiario"
              label="Código do Beneficiário"
              [control]="formulario.get('codigoBeneficiario')"
              [maxlength]="12"
              placeholder="Digite o código"
              hint="Filtrar pelo cartão de identificação do beneficiário"
            ></asc-input-text>
          </div>

          <div class="form-field form-field--large">
            <asc-input-text
              inputId="nomeBeneficiario"
              label="Nome do Beneficiário"
              [control]="formulario.get('nomeBeneficiario')"
              somenteLetrasMaiusculas="true"
              placeholder="Digite o nome"
              hint="Filtrar pelo nome do beneficiário"
            ></asc-input-text>
          </div>

          <div class="form-field form-field--medium">
            <asc-dropdown
  [control]="$any(formulario.get('caraterSolicitacao'))"
  [items]="optionsCaraterSolicitacao"
  [placeholder]="bundle('MHSPH')"
  label="Caráter da Solicitação"
></asc-dropdown>
          </div>

          <div class="form-field form-field--small">
            <asc-input-text
              inputId="matriculaUltimoUsuario"
              label="Último Usuário"
              [control]="formulario.get('matriculaUltimoUsuario')"
              maskName="codigoUsuarioMask"
              placeholder="A000000"
              hint="Filtrar por usuário que atualizou o pedido mais recentemente"
            ></asc-input-text>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="form-actions">
        <dsc-button
          variant="secondary"
          (click)="limparCampos()"
        >
          <span class="fa fa-trash fa-fw button-icon"></span>
          Limpar Campos
        </dsc-button>
        <dsc-button
          variant="primary"
          (click)="consultarProcesso()"
        >
          <span class="fa fa-search fa-fw button-icon"></span>
          Pesquisar Pedidos
        </dsc-button>
      </div>
    </form>
  </dsc-card>
</div>
