<!-- Page Header -->
<div class="col-md-12 breadcrumb-header">
  <ul class="breadcrumb">
     <li>
        <span routerLink="/" class="voltar">
           <i class="fa fa-arrow-left" aria-hidden="true"></i>Voltar
        </span>
     </li>
     <a routerLink="/home">Início</a>
     <i class="fa fa-chevron-right"></i>
     Administração
     <i class="fa fa-chevron-right"></i>
     <a routerLink="/manutencao/empresa-prestador-externo">Empresa</a>
     <i class="fa fa-chevron-right"></i>
     <a routerLink="/manutencao/empresa-prestador-externo/busca">Resultado da Consulta</a>
  </ul>
</div>

<header class="page-header">
 <div class="container-fluid">
   <h2 class="no-margin-bottom">Consulta de Empresas</h2>
 </div>
</header>
<!-- Page Header -->

<section class="row container-fluid">
 <div class="row col-md-12">
   <h4>Dados da Pesquisa</h4>
 </div>

 <div class="clearfix"></div>

 <div class="row col-md-3">
   <label class="control-label" for="cnpj">CNPJ</label>
   <p *ngIf="filtro.cnpj" class="marginBottom">{{filtro.cnpj | cnpjMask }}</p>
 </div>

 <div class="row col-md-3">
   <label class="control-label" for="razaoSocial">Razão Social</label>
   <p *ngIf="filtro.razaoSocial" class="marginBottom">{{filtro.razaoSocial}}</p>
 </div>

 <div class="row col-xs-3">
   <label class="control-label" for="contrato">Contrato</label>
   <p *ngIf="filtro.contrato" class="marginBottom">{{filtro.contrato}}</p>
 </div>

 <div class="clearfix"></div>

 <div class="row col-md-9">
   <h4>Resultado da Consulta</h4>
 </div>

 <div class="row col-xs-3 floatRight" style="padding:4px 14px; border-bottom: 0 none">
   <input #gb type="text" class="form-control filtro" size="50" placeholder="Digite para filtrar resultado">
 </div>

 <div class="row col-md-12">
   <p-table [value]="listaEmpresas" [paginator]="true" [rows]="10" [totalRecords]="totalSize" [rowsPerPageOptions]="[5,10,20]" [globalFilter]="gb" [emptyMessage]="bundle('MA003')" reorderableColumns="true" class="table table-striped table-sm table-hover">

     <ng-template pTemplate="header">
       <tr>
         <th pSortableColumn="id">ID <p-sortIcon [field]="'id'"></p-sortIcon></th>
         <th pSortableColumn="cnpj">CNPJ <p-sortIcon [field]="'cnpj'"></p-sortIcon></th>
         <th pSortableColumn="razaoSocial">Razão Social <p-sortIcon [field]="'razaoSocial'"></p-sortIcon></th>
         <th pSortableColumn="contrato">Contrato <p-sortIcon [field]="'contrato'"></p-sortIcon></th>
         <th pSortableColumn="gipes">GIPES/CEPES <p-sortIcon [field]="'gipes'"></p-sortIcon></th>
         <th>Ação</th>
       </tr>
     </ng-template>

     <ng-template pTemplate="body" let-rowData>
       <tr>
         <td>{{rowData.id}}</td>
         <td>{{rowData.cnpj | cnpjMask}}</td>
         <td>{{rowData.razaoSocial}}</td>
         <td>{{rowData.contrato}}</td>
         <td>{{rowData.gipes}}</td>
         <td>
           <button class="btn btn-info" title="Editar registro" (click)="editarEmpresa(rowData)">
             <span class="fa fa-pencil fa-fw"></span>
           </button>
         </td>
       </tr>
     </ng-template>

     <ng-template pTemplate="footer">
       {{mensagemPaginacao}}
     </ng-template>
   </p-table>
 </div>

 <div class="col-xs-12 barra-botoes">
   <button class="btn btn-info" (click)="novaEmpresa()">
     <span class="fa fa-plus fa-fw"></span>Incluir Nova Empresa
   </button>
   <button class="btn btn-info" (click)="retornarListaEmpresas()">
     <span class="fa fa-reply fa-fw"></span>Voltar
   </button>
 </div>
</section>