<div class="row col-md-9">
  <h4>Mensagens</h4>
</div>

<div class="row col-xs-3 float-direita">
  <input
    #gb
    type="text"
    id="filtroMensagens"
    class="form-control filtro"
    placeholder="Filtrar Mensagens"
  />
</div>

<div class="clearfix"></div>

<div class="row col-md-12 coluna-interna">
  <div class="row col-md-12">
    <!-- [globalFilter]="gb"  -->
    <p-table
      emptyMessage=" "
      class="table table-striped table-sm table-hover"
      [value]="listaMensagensPedido"
      [paginator]="true"
      [rows]="10"
      #dt
    >
      <!-- <p-column header="" [style]="{'width':'3%'}"> -->
      <ng-template style="width: 3%" let-obj="rowData" pTemplate="content">
        <i
          *ngIf="obj?.lido == 'NAO'"
          class="fa fa-envelope iconeEmailStatus"
          title="{{ bundle('MH151') }}"
        ></i>
        <i
          *ngIf="obj?.lido == 'SIM'"
          class="fa fa-envelope-open iconeEmailStatus"
          title="{{ bundle('MH150') }}"
        ></i>
      </ng-template>
      <!-- </p-column> -->
      <!-- <p-column header="" [style]="{'width':'3%'}"> -->
      <ng-template style="width: 3%" let-obj="rowData" pTemplate="content">
        <i
          *ngIf="obj?.encaminhada == 'SIM'"
          class="fa fa-share iconeEmail"
          title="{{ bundle('MH152') }}"
        ></i>
        <i
          *ngIf="obj?.reenviada == 'SIM'"
          class="fa fa-repeat iconeEmail"
          title="{{ bundle('MH153') }}"
        ></i>
      </ng-template>
      <!-- </p-column> -->
      <!-- <p-column field="dataHoraEnvio" header="Data"> -->
      <ng-template let-obj="rowData" pTemplate="content">
        {{ obj?.dataHoraEnvio | date : "dd/MM/yyyy HH:mm:ss" }}
      </ng-template>
      <!-- </p-column> -->
      <!-- <p-column field="email.assunto" header="Assunto"></p-column> -->
      <!-- <p-column field="emailDestinatario" header="Destinatário"></p-column> -->
      <!-- <p-column field="email.nomeSituacaoProcesso" header="Situação associada"></p-column> -->
      <!-- <p-column field="matriculaCadastramento" header="Ação"> -->
      <ng-template let-obj="rowData" pTemplate="content">
        <button
          class="btn btn-info"
          title="{{ bundle('MH154') }}"
          (click)="modalDetalhe.show(obj); detalharMensagem(obj)"
        >
          <span class="fa fa-search fa-fw"></span>
        </button>
      </ng-template>
      <!-- </p-column> -->
    </p-table>
  </div>
</div>

<asc-mensagens-enviadas-detalhar
  [mensagens]="listaMensagensPedido"
  (onUpdate)="carregarMensagensEnviadas()"
  (onRead)="detalharMensagem($event)"
  #modalDetalhe
></asc-mensagens-enviadas-detalhar>
