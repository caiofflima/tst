{"version":3,"file":"sidsc-components-dsc-dialog.mjs","sources":["../../../projects/sidsc-components/dsc-dialog/dsc-dialog.component.ts","../../../projects/sidsc-components/dsc-dialog/dsc-dialog.component.html","../../../projects/sidsc-components/dsc-dialog/shared/dsc-dialog.service.ts","../../../projects/sidsc-components/dsc-dialog/dsc-dialog.module.ts","../../../projects/sidsc-components/dsc-dialog/sidsc-components-dsc-dialog.ts"],"sourcesContent":["import { Component, HostListener, Inject, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { DscDialogData } from './shared/dsc-dialog-data';\nimport { Subscription } from 'rxjs';\nimport { FormGroup } from '@angular/forms';\n\n@Component({\n  selector: 'dsc-dialog',\n  templateUrl: './dsc-dialog.component.html',\n  styleUrls: ['./dsc-dialog.component.scss'],\n  host: {\n    'class': 'mat-elevation-z2'\n  },\n  encapsulation: ViewEncapsulation.None\n})\nexport class DscDialogComponent implements OnInit, OnDestroy {\n\n  private _formSub?: Subscription;\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public dialogConfig: DscDialogData,\n    public dialogRef: MatDialogRef<DscDialogComponent>\n  ) {}\n\n  ngOnInit(): void {\n    const context = this.dialogConfig?.context;\n\n    if(context instanceof FormGroup && this.dialogConfig?.actionButton) {\n      const actionButton = this.dialogConfig.actionButton;\n\n      actionButton.confirmDisabled = context.invalid;\n\n      this._formSub = context.statusChanges.subscribe(() => {\n        actionButton.confirmDisabled = context.invalid;\n      })\n    }\n  }\n\n  ngOnDestroy(): void {\n    this._formSub?.unsubscribe();\n  }\n\n  close(value?: boolean): void {\n    this.dialogRef.close(value);\n  }\n}\n","\n<div mat-dialog-title\n     [class.mat-mdc-dialog-title__highlight]=\"dialogConfig.title.highlightVariant\">\n  <mat-icon *ngIf=\"dialogConfig.title.icon\"\n            class=\"mat-mdc-dialog-title__icon\"\n            [ngStyle]=\"{ 'color': dialogConfig.title.highlightVariant ? null : 'var(' + dialogConfig.title.iconColor + ')' }\">\n    {{ dialogConfig.title.icon }}\n  </mat-icon>\n  <h2 class=\"mat-mdc-dialog-title__text\">{{ dialogConfig.title.text }}</h2>\n  <dsc-button\n    (click)=\"close(false)\"\n    *ngIf=\"dialogConfig.title.showCloseButton\"\n    [ariaLabel]=\"'Fechar'\"\n    class=\"close-dialog\"\n    size=\"large\"\n    variant=\"secondary-text\"\n    icon=\"close\"\n    iconButton=\"true\">\n  </dsc-button>\n</div>\n<mat-dialog-content>\n  <ng-container [ngTemplateOutlet]=\"dialogConfig.template ? dialogConfig.template : simpleTemplate\"\n                [ngTemplateOutletContext]=\"{$implicit: dialogConfig.context}\">\n  </ng-container>\n</mat-dialog-content>\n<mat-dialog-actions *ngIf=\"dialogConfig.actionButton\"\n                    align=\"end\">\n  <dsc-button *ngIf=\"dialogConfig.actionButton.cancelText\"\n              [label]=\"dialogConfig.actionButton.cancelText\"\n              [size]=\"dialogConfig.actionButton.cancelSize ?? 'standard'\"\n              [variant]=\"dialogConfig.actionButton.cancelVariant ?? 'secondary-outlined'\"\n              [iconPrefix]=\"dialogConfig.actionButton.cancelIconPrefix\"\n              [iconSuffix]=\"dialogConfig.actionButton.cancelIconSuffix\"\n              [disabled]=\"dialogConfig.actionButton.cancelDisabled ?? false\"\n              [iconButton]=\"dialogConfig.actionButton.cancelIconButton\"\n              [icon]=\"dialogConfig.actionButton.cancelIcon\"\n              [dscTooltip]=\"dialogConfig.actionButton.cancelTooltip ?? ''\"\n              [ariaLabel]=\"dialogConfig.actionButton.cancelAriaLabel ?? ''\"\n              mat-dialog-close>\n  </dsc-button>\n  <dsc-button *ngIf=\"dialogConfig.actionButton.confirmText\"\n              [type]=\"dialogConfig.actionButton.type\"\n              [label]=\"dialogConfig.actionButton.confirmText\"\n              [size]=\"dialogConfig.actionButton.confirmSize ?? 'standard'\"\n              [variant]=\"dialogConfig.actionButton.confirmVariant ?? 'primary'\"\n              [iconPrefix]=\"dialogConfig.actionButton.confirmIconPrefix\"\n              [iconSuffix]=\"dialogConfig.actionButton.confirmIconSuffix\"\n              [disabled]=\"dialogConfig.actionButton.confirmDisabled ?? false\"\n              [iconButton]=\"dialogConfig.actionButton.confirmIconButton\"\n              [icon]=\"dialogConfig.actionButton.confirmIcon\"\n              [dscTooltip]=\"dialogConfig.actionButton.confirmTooltip ?? ''\"\n              [ariaLabel]=\"dialogConfig.actionButton.confirmAriaLabel ?? ''\"\n              [mat-dialog-close]=\"dialogConfig.context ? dialogConfig.context : true\">\n  </dsc-button>\n</mat-dialog-actions>\n\n<ng-template #simpleTemplate>\n  <p class=\"mat-mdc-dialog-content__message\">{{ dialogConfig.message }}</p>\n</ng-template>\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\n\nimport { Subscription, take, tap } from 'rxjs';\n\nimport { DscDialogConfig } from './dsc-dialog-config';\nimport { DscDialogComponent } from '../dsc-dialog.component';\n\n@Injectable({ providedIn: 'root' })\nexport class DscDialogService {\n\n  constructor(public dialog: MatDialog) { }\n\n  confirm(dscDialogConfig: DscDialogConfig): MatDialogRef<DscDialogComponent> {\n    const dialogRef = this.dialog.open(DscDialogComponent, {\n      disableClose: dscDialogConfig.disableClose,\n      autoFocus: dscDialogConfig.autoFocus,\n      restoreFocus: dscDialogConfig.restoreFocus,\n      hasBackdrop: true,\n      ariaLabel: dscDialogConfig.ariaLabel,\n      ariaLabelledBy: dscDialogConfig.ariaLabelledBy,\n      ariaDescribedBy: dscDialogConfig.ariaDescribedBy,\n      data: dscDialogConfig.data\n    });\n\n\n    dialogRef.afterClosed().pipe(\n      take(1)).subscribe(value => {\n        const actionButton = dscDialogConfig.data?.actionButton;\n        if(value && actionButton?.confirmFunction) {\n          actionButton.confirmFunction(value);\n        } else if(!value && actionButton?.cancelFunction) {\n          actionButton.cancelFunction();\n        }\n      });\n\n    return dialogRef;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule, NgClass, NgIf, NgTemplateOutlet } from '@angular/common';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatDialogModule } from '@angular/material/dialog';\n\nimport { DscButtonComponent } from 'sidsc-components/dsc-button';\n\nimport { DscDialogComponent } from './dsc-dialog.component';\nimport { DscDialogService } from './shared/dsc-dialog.service';\nimport { DscTooltipModule } from 'sidsc-components/dsc-tooltip';\n\n@NgModule({\n  declarations: [DscDialogComponent],\n  imports: [\n    MatDialogModule,\n    NgClass,\n    NgIf,\n    DscButtonComponent,\n    DscTooltipModule,\n    MatIconModule,\n    NgTemplateOutlet,\n    CommonModule\n  ],\n  providers: [DscDialogService]\n})\nexport class DscDialogModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}