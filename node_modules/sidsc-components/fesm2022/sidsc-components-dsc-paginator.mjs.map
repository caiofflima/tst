{"version":3,"file":"sidsc-components-dsc-paginator.mjs","sources":["../../../projects/sidsc-components/dsc-paginator/shared/pt-br-paginator-intl.ts","../../../projects/sidsc-components/dsc-paginator/dsc-paginator.component.ts","../../../projects/sidsc-components/dsc-paginator/dsc-paginator.component.html","../../../projects/sidsc-components/dsc-paginator/sidsc-components-dsc-paginator.ts"],"sourcesContent":["import { MatPaginatorIntl } from '@angular/material/paginator';\n\nconst portugueseRangeLabel = (page: number, pageSize: number, length: number) => {\n  if (length === 0 || pageSize === 0) { return `0 de ${length}`; }\n\n  length = Math.max(length, 0);\n\n  const startIndex = page * pageSize;\n\n  // If the start index exceeds the list length, do not try and fix the end index to the end.\n  const endIndex = startIndex < length ?\n    Math.min(startIndex + pageSize, length) :\n    startIndex + pageSize;\n\n  return `${startIndex + 1} - ${endIndex} de ${length}`;\n};\n\nexport function getPortuguesePaginatorIntl(): MatPaginatorIntl {\n  const paginatorIntl: MatPaginatorIntl = new MatPaginatorIntl();\n\n  paginatorIntl.itemsPerPageLabel = 'Itens por página:';\n  paginatorIntl.nextPageLabel = 'Próxima página';\n  paginatorIntl.previousPageLabel = 'Página anterior';\n  paginatorIntl.firstPageLabel = 'Primeira página';\n  paginatorIntl.lastPageLabel = 'Última página';\n  paginatorIntl.getRangeLabel = portugueseRangeLabel;\n  return paginatorIntl;\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Inject, Input,\n  OnInit,\n  Optional,\n  ViewEncapsulation\n} from '@angular/core';\nimport { AsyncPipe, NgIf } from '@angular/common';\nimport { _MatPaginatorBase, MAT_PAGINATOR_DEFAULT_OPTIONS, MatPaginatorIntl } from '@angular/material/paginator';\nimport { BooleanInput, coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { FormsModule } from '@angular/forms';\n\nimport { Observable } from 'rxjs';\n\nimport { DscButtonComponent } from 'sidsc-components/dsc-button';\nimport { DscTooltipModule } from 'sidsc-components/dsc-tooltip';\nimport { DscSelectComponent, Option } from 'sidsc-components/dsc-select';\nimport { BreakpointMatcherService } from 'sidsc-components/core';\n\nimport { getPortuguesePaginatorIntl } from './shared/pt-br-paginator-intl';\n\nexport type DscPaginatorOptions = {\n  /** Number of items to display on a page. By default set to 50. */\n  pageSize?: number;\n\n  /** The set of provided page size options to display to the user. */\n  pageSizeOptions?: number[];\n\n  /** Whether to hide the page size selection UI from the user. */\n  hidePageSize?: boolean;\n\n  /** Whether to show the first/last buttons UI to the user. */\n  showFirstLastButtons?: boolean;\n}\n\nlet nextUniqueId = 0;\n@Component({\n  selector: 'dsc-paginator',\n  standalone: true,\n  imports: [DscButtonComponent, DscTooltipModule, DscSelectComponent, FormsModule, AsyncPipe, NgIf],\n  templateUrl: './dsc-paginator.component.html',\n  styleUrls: ['./dsc-paginator.component.scss'],\n  inputs: ['disabled'],\n  host: {\n    'class': 'mat-mdc-paginator',\n    'role': 'group',\n  },\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  providers: [{ provide: MatPaginatorIntl, useValue: getPortuguesePaginatorIntl() }]\n})\nexport class DscPaginatorComponent extends _MatPaginatorBase<DscPaginatorOptions> implements OnInit, AfterViewInit {\n  options!: Option[];\n\n  readonly _pageSizeLabelId = `mat-paginator-page-size-label-${nextUniqueId++}`;\n\n  size$!: Observable<string>;\n\n  constructor(\n    intl: MatPaginatorIntl,\n    changeDetectorRef: ChangeDetectorRef,\n    private _breakpointMatcher: BreakpointMatcherService,\n    @Optional() @Inject(MAT_PAGINATOR_DEFAULT_OPTIONS) defaults?: DscPaginatorOptions,\n  ) {\n    super(intl, changeDetectorRef, defaults);\n  }\n\n  @Input()\n  get hidePaginatorRangeLabel(): boolean {\n    return this._hidePaginatorRangeLabel;\n  }\n\n  set hidePaginatorRangeLabel(value: BooleanInput) {\n    this._hidePaginatorRangeLabel = coerceBooleanProperty(value);\n  }\n\n  private _hidePaginatorRangeLabel = false;\n\n  override ngOnInit(): void {\n    super.ngOnInit();\n    this.size$ = this._breakpointMatcher.getSize$();\n  }\n\n  ngAfterViewInit(): void {\n    this.options = this._displayedPageSizeOptions?.map(value => ({ label: `${value}`, value }));\n  }\n\n  // get actualPageDescription(): string {\n  //   const totalPages = Math.ceil(this.length / this.pageSize);\n  //   return `Página ${totalPages === 0 ? 0 : this.pageIndex + 1} de ${totalPages}`;\n  // }\n\n  get actualPageDescription(): { current: number; total: number } {\n    const totalPages = Math.ceil(this.length / this.pageSize);\n    return {\n      current: totalPages === 0 ? 0 : this.pageIndex + 1,\n      total: totalPages,\n    };\n  }\n}\n","<div class=\"mat-mdc-paginator-outer-container\">\n  <div class=\"mat-mdc-paginator-container\">\n    <div class=\"mat-mdc-paginator-page-size\"\n         *ngIf=\"!hidePageSize && (size$ | async) !== 'xs'\">\n      <div class=\"mat-mdc-paginator-page-size-label\"\n           id=\"{{_pageSizeLabelId}}\">\n        {{_intl.itemsPerPageLabel}}\n      </div>\n      <dsc-select [options]=\"options\"\n                  [ngModel]=\"pageSize\"\n                  [disabled]=\"disabled\"\n                  [aria-labelledby]=\"_pageSizeLabelId\"\n                  (selectionChange)=\"_changePageSize($event.value)\"\n                  *ngIf=\"_displayedPageSizeOptions.length > 1\">\n      </dsc-select>\n      <div class=\"mat-mdc-paginator-page-size-value\"\n           *ngIf=\"_displayedPageSizeOptions.length <= 1\">\n        {{pageSize}}\n      </div>\n    </div>\n    <div class=\"mat-mdc-paginator-range-actions\">\n      <div class=\"mat-mdc-paginator-range-label\"\n           aria-live=\"polite\"\n           *ngIf=\"!hidePaginatorRangeLabel && (size$ | async) !== 'xs'\">\n        {{_intl.getRangeLabel(pageIndex, pageSize, length)}}\n      </div>\n      <dsc-button iconButton=\"true\"\n                  icon=\"first_page\"\n                  variant=\"secondary-text\"\n                  size=\"large\"\n                  class=\"mat-mdc-paginator-navigation-first\"\n                  (click)=\"firstPage()\"\n                  [attr.aria-label]=\"_intl.firstPageLabel\"\n                  [dscTooltip]=\"_intl.firstPageLabel\"\n                  [dscTooltipDisabled]=\"_previousButtonsDisabled()\"\n                  dscTooltipVariant=\"highlight\"\n                  [disabled]=\"_previousButtonsDisabled()\"\n                  *ngIf=\"showFirstLastButtons\">\n      </dsc-button>\n      <dsc-button iconButton=\"true\"\n                  icon=\"chevron_left\"\n                  variant=\"secondary-text\"\n                  size=\"large\"\n                  class=\"mat-mdc-paginator-navigation-previous\"\n                  (click)=\"previousPage()\"\n                  [attr.aria-label]=\"_intl.previousPageLabel\"\n                  [dscTooltip]=\"_intl.previousPageLabel\"\n                  [dscTooltipDisabled]=\"_previousButtonsDisabled()\"\n                  dscTooltipVariant=\"highlight\"\n                  [disabled]=\"_previousButtonsDisabled()\">\n      </dsc-button>\n      <!-- <div class=\"mat-mdc-paginator-range-actual-page-label\">{{actualPageDescription}}</div> -->\n      <div class=\"mat-mdc-paginator-range-actual-page-label\">\n        Página\n        <span>{{ actualPageDescription.current }}</span>\n        de\n        <span>{{ actualPageDescription.total }}</span>\n      </div>\n      <dsc-button iconButton=\"true\"\n                  icon=\"chevron_right\"\n                  variant=\"secondary-text\"\n                  size=\"large\"\n                  class=\"mat-mdc-paginator-navigation-next\"\n                  (click)=\"nextPage()\"\n                  [attr.aria-label]=\"_intl.nextPageLabel\"\n                  [dscTooltip]=\"_intl.nextPageLabel\"\n                  [dscTooltipDisabled]=\"_nextButtonsDisabled()\"\n                  dscTooltipVariant=\"highlight\"\n                  [disabled]=\"_nextButtonsDisabled()\">\n      </dsc-button>\n      <dsc-button iconButton=\"true\"\n                  icon=\"last_page\"\n                  variant=\"secondary-text\"\n                  size=\"large\"\n                  class=\"mat-mdc-paginator-navigation-last\"\n                  (click)=\"lastPage()\"\n                  [attr.aria-label]=\"_intl.lastPageLabel\"\n                  [dscTooltip]=\"_intl.lastPageLabel\"\n                  [dscTooltipDisabled]=\"_nextButtonsDisabled()\"\n                  dscTooltipVariant=\"highlight\"\n                  [disabled]=\"_nextButtonsDisabled()\"\n                  *ngIf=\"showFirstLastButtons\">\n      </dsc-button>\n    </div>\n  </div>\n</div>\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}