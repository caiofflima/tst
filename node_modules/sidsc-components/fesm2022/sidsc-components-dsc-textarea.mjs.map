{"version":3,"file":"sidsc-components-dsc-textarea.mjs","sources":["../../../projects/sidsc-components/dsc-textarea/dsc-textarea.component.ts","../../../projects/sidsc-components/dsc-textarea/dsc-textarea.component.html","../../../projects/sidsc-components/dsc-textarea/sidsc-components-dsc-textarea.ts"],"sourcesContent":["import { Component, Input, OnInit, Optional, Self, ViewEncapsulation } from '@angular/core';\nimport { NgClass, NgIf } from '@angular/common';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS, MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { FormGroupDirective, FormsModule, NgControl, NgForm } from '@angular/forms';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { A11yModule } from '@angular/cdk/a11y';\n\nimport { BaseComponent } from 'sidsc-components/core';\nimport { DscTooltipModule } from 'sidsc-components/dsc-tooltip';\n\n\n@Component({\n  selector: 'dsc-textarea',\n  standalone: true,\n  encapsulation: ViewEncapsulation.None,\n  imports: [\n    NgIf,\n    NgClass,\n    FormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatIconModule,\n    MatTooltipModule,\n    DscTooltipModule,\n    A11yModule\n  ],\n  providers: [{ provide: MAT_FORM_FIELD_DEFAULT_OPTIONS, useValue: { appearance: 'outline' } }],\n  templateUrl: './dsc-textarea.component.html',\n  styleUrls: ['./dsc-textarea.component.scss']\n})\nexport class DscTextareaComponent extends BaseComponent<string> implements OnInit {\n\n  @Input()\n  get showCharCounter(): boolean {\n    return this._showCharCounter;\n  }\n\n  set showCharCounter(value: boolean | string) {\n    this._showCharCounter = coerceBooleanProperty(value);\n  }\n\n  private _showCharCounter = false;\n\n  isActive: boolean = false;\n\n  constructor(@Optional() @Self() public ngControl: NgControl,\n              @Optional() parentForm: NgForm,\n              @Optional() parentFormGroup: FormGroupDirective\n  ) {\n    super(ngControl, parentForm, parentFormGroup);\n    if (ngControl) ngControl.valueAccessor = this;\n  }\n\n  ngOnInit(): void {\n    this.updateOn = this.ngControl?.control?.updateOn;\n  }\n\n  get formFieldClasses(): string[] {\n    return [\n      this.ngControl && this.ngControl.value?.length\n        ? 'mat-mdc-form-field--filled'\n        : 'mat-mdc-form-field--empty',\n      this.readOnly ? 'mat-mdc-form-field--readonly' : '',\n      this.ngControl &&\n      this.ngControl.invalid &&\n      (this.ngControl.touched || this.ngControl.dirty) &&\n      !this.readOnly\n        ? 'error-field'\n        : '',\n        (this.isActive && !this.errorText) || (this.ngControl && this.ngControl.value?.length)\n        ? 'active-field'\n        : ''\n    ].filter(Boolean);\n  }\n}\n","<mat-label class=\"mat-label\"\n           [class]=\"formFieldLabelSize\"\n           [ngClass]=\"{\n           'error-label': this.ngControl &&\n           (this.ngControl.invalid && (ngControl.touched || ngControl.dirty)) &&\n           !readOnly\n           }\">\n  {{ label }}\n  <span *ngIf=\"labelHint\"\n        class=\"mat-label__hint\">{{ labelHint }}</span>\n  <mat-icon *ngIf=\"labelHintTooltip\"\n            [ngClass]=\"{'disabled-tooltip': disabled, 'readonly-tooltip': readOnly}\"\n            [dscTooltip]=\"labelHintTooltip\"\n            [dscTooltipDisabled]=\"disabled || readOnly\"\n            dscTooltipVariant='highlight'\n            dscTooltipPosition=\"right\">\n    info_outline\n  </mat-icon>\n</mat-label>\n<mat-form-field cdkMonitorSubtreeFocus\n                [hintLabel]=\"formFieldHint\"\n                [class]=\"formFieldSize\"\n                [ngClass]=\"formFieldClasses\">\n  <textarea matInput\n         [type]=\"type\"\n         [placeholder]=\"placeholder\"\n         [disabled]=\"disabled\"\n         [readonly]=\"readOnly\"\n         [maxlength]=\"maxlength\"\n         [errorStateMatcher]=\"matcher\"\n         [(ngModel)]=\"val\"\n         (focus)=\"isActive = true\"\n         (blur)=\"emitValueOn();blur.emit($event)\"\n         #textarea></textarea>\n  <mat-hint *ngIf=\"showCharCounter\"\n            align=\"end\">{{ textarea.value.length }}/{{ maxlength }}</mat-hint>\n  <mat-error *ngIf='!readOnly'>\n    <mat-icon inline=\"true\">warning</mat-icon>\n    {{ errorText }}\n  </mat-error>\n</mat-form-field>\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}