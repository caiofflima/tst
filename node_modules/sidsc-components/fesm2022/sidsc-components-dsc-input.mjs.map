{"version":3,"file":"sidsc-components-dsc-input.mjs","sources":["../../../projects/sidsc-components/dsc-input/dsc-input.component.ts","../../../projects/sidsc-components/dsc-input/dsc-input.component.html","../../../projects/sidsc-components/dsc-input/sidsc-components-dsc-input.ts"],"sourcesContent":["import { NgClass, NgIf } from '@angular/common';\nimport { Component, EventEmitter, Input, OnInit, Optional, Output, Self, ViewEncapsulation } from '@angular/core';\nimport { FormGroupDirective, FormsModule, NgControl, NgForm, ReactiveFormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS, MatFormFieldModule } from '@angular/material/form-field';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatButtonModule } from '@angular/material/button';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { A11yModule } from '@angular/cdk/a11y';\n\nimport { NgxMaskDirective, provideNgxMask } from 'ngx-mask';\n\nimport { BaseComponent } from 'sidsc-components/core';\nimport { DscTooltipModule } from 'sidsc-components/dsc-tooltip';\n\n@Component({\n  selector: 'dsc-input',\n  standalone: true,\n  templateUrl: './dsc-input.component.html',\n  styleUrls: ['./dsc-input.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  imports: [\n    NgIf,\n    NgClass,\n    FormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatIconModule,\n    MatTooltipModule,\n    DscTooltipModule,\n    MatButtonModule,\n    NgxMaskDirective,\n    ReactiveFormsModule,\n    A11yModule\n  ],\n  providers: [\n    provideNgxMask(),\n    { provide: MAT_FORM_FIELD_DEFAULT_OPTIONS, useValue: { appearance: 'outline' } }\n  ]\n})\nexport class DscInputComponent extends BaseComponent<any> implements OnInit {\n  @Output() keydown: EventEmitter<any> = new EventEmitter<any>();\n\n  @Input() suffix: string = '';\n\n  @Input() mask?: string;\n\n  @Input() iconPrefix?: string;\n\n  @Input() iconSuffix?: string;\n\n  @Input() iconStyle: 'outlined' | 'filled' | 'rounded' | 'sharp' | 'two-tone' = 'filled';\n\n  @Input()\n  get showCharCounter(): boolean {\n    return this._showCharCounter;\n  }\n\n  set showCharCounter(value: boolean | string) {\n    this._showCharCounter = coerceBooleanProperty(value);\n  }\n\n  isActive: boolean = false;\n\n  private _showCharCounter = false;\n\n  @Input()\n  get showClearButton(): boolean {\n    return this._showClearButton;\n  }\n\n  set showClearButton(value: boolean | string) {\n    this._showClearButton = coerceBooleanProperty(value);\n  }\n\n  private _showClearButton = false;\n\n  hidePassword = true;\n\n  constructor(@Optional() @Self() public ngControl: NgControl,\n              @Optional() parentForm: NgForm,\n              @Optional() parentFormGroup: FormGroupDirective\n  ) {\n    super(ngControl, parentForm, parentFormGroup);\n    if (this.ngControl) this.ngControl.valueAccessor = this;\n  }\n\n  ngOnInit(): void {\n    this.updateOn = this.ngControl?.control?.updateOn;\n  }\n\n  get formFieldClasses(): string[] {\n    return [\n      this.ngControl && this.ngControl.value?.length\n        ? 'mat-mdc-form-field--filled'\n        : 'mat-mdc-form-field--empty',\n      this.readOnly ? 'mat-mdc-form-field--readonly' : '',\n      this.ngControl &&\n      this.ngControl.invalid &&\n      (this.ngControl.touched || this.ngControl.dirty) &&\n      !this.readOnly\n        ? 'error-field'\n        : '',\n      (this.isActive && !this.errorText) || (this.ngControl && this.ngControl.value)\n        ? 'active-field'\n        : ''\n    ].filter(Boolean);\n  }\n\n  getIconClass(): string {\n    if (this.iconStyle === 'filled') return 'material-icons';\n    if (this.iconStyle === 'rounded') return 'material-icons-round';\n    return `material-icons-${this.iconStyle}`;\n  }\n\n  onKeydown($event: KeyboardEvent): void {\n    if ($event.code === 'Space') $event.stopPropagation();\n  }\n}\n","<mat-label class=\"mat-label\"\n           [class]=\"formFieldLabelSize\"\n           [ngClass]=\"{\n           'error-label': this.ngControl &&\n           (this.ngControl.invalid && (ngControl.touched || ngControl.dirty)) &&\n           !readOnly\n           }\">\n  {{ label }}\n  <span *ngIf=\"labelHint\"\n        class=\"mat-label__hint\">{{ labelHint }}</span>\n  <mat-icon *ngIf=\"labelHintTooltip\"\n            [ngClass]=\"{'disabled-tooltip': disabled, 'readonly-tooltip': readOnly}\"\n            [dscTooltip]=\"labelHintTooltip\"\n            [dscTooltipDisabled]=\"disabled || readOnly\"\n            dscTooltipVariant='highlight'\n            dscTooltipPosition=\"right\"\n            [ngClass]=\"getIconClass()\">\n    info_outline\n  </mat-icon>\n</mat-label>\n<mat-form-field cdkMonitorSubtreeFocus\n                [hintLabel]=\"formFieldHint\"\n                [class]=\"formFieldSize\"\n                [ngClass]=\"formFieldClasses\">\n  <input matInput\n         [type]=\"isPasswordField && hidePassword ? 'password' : 'text'\"\n         [placeholder]=\"placeholder\"\n         [suffix]=\"suffix\"\n         [mask]=\"mask\"\n         [errorStateMatcher]=\"matcher\"\n         [disabled]=\"disabled\"\n         [readonly]=\"readOnly\"\n         [maxlength]=\"maxlength\"\n         [(ngModel)]=\"val\"\n         (focus)=\"isActive = true\"\n         (blur)=\"emitValueOn();blur.emit($event)\"\n         (keydown)=\"onKeydown($event);keydown.emit($event)\"\n         #input>\n  <mat-hint *ngIf=\"showCharCounter\"\n            align=\"end\">\n            {{ input.value.length }}/{{ maxlength }}\n  </mat-hint>\n  <mat-error *ngIf='!readOnly'>\n    <mat-icon inline=\"true\">warning</mat-icon>\n    {{ errorText }}\n  </mat-error>\n  <button *ngIf=\"isPasswordField && showIconPassword\"\n          mat-icon-button\n          matSuffix\n          disableRipple=\"true\"\n          type=\"button\"\n          (click)=\"hidePassword = !hidePassword;onTouched();$event.stopPropagation()\"\n          [disabled]=\"disabled || readOnly\"\n          [attr.aria-label]=\"hidePassword ? 'Mostrar' : 'Esconder' + ' senha.'\"\n          [attr.aria-pressed]=\"hidePassword\">\n    <mat-icon [ngClass]=\"getIconClass()\">{{hidePassword ? 'visibility' : 'visibility_off'}}</mat-icon>\n  </button>\n  <button *ngIf=\"showClearButton && !isPasswordField\"\n          matSuffix\n          mat-icon-button\n          disableRipple=\"true\"\n          aria-label=\"Limpar\"\n          type=\"button\"\n          [disabled]=\"disabled || readOnly\"\n          (click)=\"ngControl.reset('');$event.stopPropagation()\">\n    <mat-icon [ngClass]=\"getIconClass()\">\n      <span class=\"material-symbols-outlined\">\n        cancel\n      </span>\n    </mat-icon>\n  </button>\n  <mat-icon *ngIf=\"iconPrefix\" [ngClass]=\"getIconClass()\"\n            matPrefix>\n    {{ iconPrefix }}\n  </mat-icon>\n  <mat-icon *ngIf=\"iconSuffix && !showClearButton && !isPasswordField\" [ngClass]=\"getIconClass()\"\n            matSuffix>\n    {{ iconSuffix }}\n  </mat-icon>\n</mat-form-field>\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}