/**
 * Componente de Chip (Tag) customizado para o Design System DSC.
 * Permite adicionar, remover, editar e reorganizar chips, além de suportar autocomplete e drag-and-drop.
 */
import { Component, EventEmitter, Input, Output, ViewEncapsulation } from '@angular/core';
import { CommonModule } from '@angular/common';
import { MatChipsModule } from '@angular/material/chips';
import { MatIconModule } from '@angular/material/icon';
import { DragDropModule, moveItemInArray } from '@angular/cdk/drag-drop';
import { MatFormFieldModule } from '@angular/material/form-field';
import { MatAutocompleteModule } from '@angular/material/autocomplete';
import { FormControl, ReactiveFormsModule } from '@angular/forms';
import { Observable } from 'rxjs';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/material/chips";
import * as i3 from "@angular/material/icon";
import * as i4 from "@angular/cdk/drag-drop";
import * as i5 from "@angular/material/form-field";
import * as i6 from "@angular/material/autocomplete";
import * as i7 from "@angular/material/core";
import * as i8 from "@angular/forms";
export class DscChipComponent {
    constructor() {
        /** Lista de chips exibidos no componente. */
        this.chipItems = [];
        /** Rótulo do campo de chips. */
        this.label = 'Chips';
        /** Placeholder do campo de entrada para adicionar novos chips. */
        this.placeholder = 'Adicionar chip...';
        /** Variante do comportamento do chip. */
        this.variant = 'simple';
        this._imageShape = 'square';
        this._chipsSize = 'standard';
        /** Define se múltiplos chips podem ser adicionados. */
        this.multiple = false;
        /** Exibe botão de fechar nos chips. */
        this.closeButton = false;
        /** Evento emitido quando um chip é destruído. */
        this.destroyed = new EventEmitter;
        /** Evento emitido quando um chip é removido. */
        this.removed = new EventEmitter;
        /** Evento emitido quando há mudança de seleção em um chip. */
        this.selectionChange = new EventEmitter;
        /** Evento emitido quando um chip é editado. */
        this.edited = new EventEmitter;
        /** Evento emitido quando há alteração na lista de chips. */
        this.change = new EventEmitter;
        /** Controle do campo de formulário. */
        this.chipCtrl = new FormControl();
        /** Lista de itens filtrados para autocomplete. */
        this.filteredItems = new Observable();
        /** Permite adicionar chips ao perder o foco. */
        this.addOnBlur = true;
    }
    /** Formato da imagem associada ao chip. */
    get shape() {
        return this._imageShape;
    }
    set shape(value) {
        this._imageShape = value || 'square';
    }
    /** tamanho do chip. */
    get size() {
        return this._chipsSize;
    }
    set size(value) {
        this._chipsSize = value || 'standard';
    }
    /**
     * Retorna a classe CSS correspondente ao formato da imagem do chip.
     * @param chip O chip para obter a classe.
     * @returns Classe CSS correspondente.
     */
    getComputedClass(chip) {
        return `chip__size-${chip.size || this._chipsSize}-avatar-${chip.imageShape || this._imageShape}`;
    }
    /**
     * Retorna a classe CSS correspondente ao tamanho do chip.
     * @param chip O chip para obter a classe.
     * @returns Classe CSS correspondente.
     */
    getComputedClassSize(chip) {
        return `chip__size-${chip.size || this._chipsSize}`;
    }
    /**
     * Retorna a classe CSS correspondente ao tamanho do ícone do chip.
     * @param chip O chip para obter a classe.
     * @returns Classe CSS correspondente.
     */
    getComputedClassIconSize(chip) {
        return `chip__size-${chip.size || this._chipsSize}-icon`;
    }
    /**
     * Remove um chip da lista.
     * @param chip O chip a ser removido.
     */
    remove(chip) {
        const index = this.chipItems.indexOf(chip);
        if (index >= 0) {
            this.chipItems.splice(index, 1);
            this.removed?.emit();
        }
    }
    /**
     * Adiciona um chip selecionado no autocomplete.
     * @param event Evento de seleção.
     */
    selected(event) {
        const selectedItem = event.option.value;
        this.chipItems.push({
            label: selectedItem.label,
            icon: selectedItem.icon,
            avatar: selectedItem.avatar,
            altAvatar: selectedItem.altAvatar,
            selected: selectedItem.selected
        });
    }
    /**
     * Filtra os itens disponíveis para autocomplete com base na entrada do usuário.
     */
    filterItems() {
        this.filteredItems = new Observable(observer => {
            observer.next(this.chipItems.filter(item => item.label.toLowerCase().includes(this.chipCtrl.value?.toLowerCase() || '')));
        });
    }
    /**
     * Adiciona um novo chip à lista.
     * @param event Evento contendo o valor do novo chip e o campo de entrada associado.
     */
    add(event) {
        if (this.variant != 'autocomplete') {
            const inputValue = event.value.trim();
            if (inputValue) {
                this.chipItems.push({ label: inputValue });
            }
        }
        event.input.value = '';
    }
    /**
     * Edita um chip existente.
     * @param chip O chip a ser editado.
     * @param event Evento contendo o novo valor do chip.
     */
    edit(chip, event) {
        const value = event.value.trim();
        if (!value) {
            this.remove(chip);
            return;
        }
        const index = this.chipItems.indexOf(chip);
        if (index >= 0) {
            this.chipItems[index].label = value;
        }
    }
    /**
     * Reorganiza os chips por meio de drag-and-drop.
     * @param event Evento de arrastar e soltar.
     */
    drop(event) {
        moveItemInArray(this.chipItems, event.previousIndex, event.currentIndex);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: DscChipComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: DscChipComponent, isStandalone: true, selector: "dsc-chip", inputs: { chipItems: "chipItems", label: "label", placeholder: "placeholder", variant: "variant", shape: "shape", size: "size", multiple: "multiple", closeButton: "closeButton" }, outputs: { destroyed: "destroyed", removed: "removed", selectionChange: "selectionChange", edited: "edited", change: "change" }, ngImport: i0, template: "<div class=\"content\">\n\n  <!--  simple  -->\n  <div *ngIf=\"variant == 'simple'\">\n    <mat-chip-listbox>\n      <mat-chip *ngFor=\"let chip of chipItems\" class=\"chip chip--option\" [disabled]=\"chip.disabled\"\n        (removed)=\"remove(chip)\" (destroyed)=\"destroyed.emit()\"\n        [ngClass]=\"['chip__size', getComputedClassSize(chip)]\">\n        <div class=\"chip__content\">\n          <img *ngIf=\"chip.avatar\" [src]=\"chip.avatar\" [alt]=\"chip.altAvatar || 'Avatar'\"\n            [ngClass]=\"['chip__size', getComputedClass(chip)]\" />\n          <mat-icon *ngIf=\"chip.icon && !chip.selected\" \n            [ngClass]=\"['chip__size', getComputedClassIconSize(chip)]\">{{ chip.icon }}</mat-icon>\n          <span class=\"chip__label\">{{ chip.label }}</span>\n        </div>\n        <button *ngIf='closeButton' matChipRemove [attr.aria-label]=\"'remove ' + chip\">\n          <mat-icon class='chip__close-icon'>close</mat-icon>\n        </button>\n      </mat-chip>\n    </mat-chip-listbox>\n  </div>\n\n  <!--  select  -->\n  <div *ngIf=\"variant == 'select'\">\n    <mat-chip-listbox aria-label=\"Chip selection\" [multiple]='multiple'>\n      <mat-chip-option *ngFor=\"let chip of chipItems;\" (removed)=\"remove(chip)\" (destroyed)=\"destroyed.emit()\"\n        (selectionChange)=\"chip.selected = $event.selected; selectionChange.emit($event)\" [selected]=\"chip.selected\"\n        [disabled]=\"chip.disabled\" class=\"chip chip--option\"\n        [ngClass]=\"['chip__size', getComputedClassSize(chip)]\">\n        <div class=\"chip__content\">\n          <img *ngIf=\"chip.avatar && !chip.selected\" [src]=\"chip.avatar\" [alt]=\"chip.altAvatar || 'Avatar'\"\n            [ngClass]=\"['chip__size', getComputedClass(chip)]\" />\n          <mat-icon *ngIf=\"chip.icon && !chip.selected\"\n            [ngClass]=\"['chip__size', getComputedClassIconSize(chip)]\">{{ chip.icon }}</mat-icon>\n          <span class=\"chip__label\">{{ chip.label }}</span>\n        </div>\n        <button *ngIf='closeButton' matChipRemove [attr.aria-label]=\"'remove ' + chip\">\n          <mat-icon class='chip__close-icon'>close</mat-icon>\n        </button>\n      </mat-chip-option>\n    </mat-chip-listbox>\n  </div>\n\n  <!--  autocomplete  -->\n  <div *ngIf=\"variant == 'autocomplete'\">\n    <form>\n      <mat-form-field class=\"chip--form\">\n        <mat-label>{{ label }}</mat-label>\n        <mat-chip-grid #chipGrid aria-label=\"Chip selection\">\n          <mat-chip-row *ngFor=\"let chip of chipItems\" (removed)=\"remove(chip)\" (destroyed)=\"destroyed.emit()\"\n            [disabled]=\"chip.disabled\" class=\"chip chip--option\"\n            [ngClass]=\"['chip__size', getComputedClassSize(chip)]\">\n            <div class='chip__autocomplete-unit'>\n              <mat-icon *ngIf=\"chip.icon\"\n                [ngClass]=\"['chip__size', getComputedClassIconSize(chip)]\">{{ chip.icon }}</mat-icon>\n              <img *ngIf=\"chip.avatar\" [src]=\"chip.avatar\" [alt]=\"chip.altAvatar || 'Avatar'\"\n                [ngClass]=\"['chip__size', getComputedClass(chip)]\" />\n              <span class=\"chip__label\">{{ chip.label }}</span>\n            </div>\n            <button matChipRemove [attr.aria-label]=\"'remove ' + chip\">\n              <mat-icon class='chip__close-icon'>close</mat-icon>\n            </button>\n          </mat-chip-row>\n        </mat-chip-grid>\n\n        <input [placeholder]=\"placeholder\" #chipInput [formControl]=\"chipCtrl\" [matChipInputFor]=\"chipGrid\"\n          [matAutocomplete]=\"auto\" [matChipInputSeparatorKeyCodes]=\"[13]\" (matChipInputTokenEnd)=\"add($event)\"\n          (input)=\"filterItems()\" />\n\n        <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"selected($event)\">\n          <mat-option *ngFor=\"let chip of filteredItems | async\" [value]=\"chip\" class=\"chip chip--option\">\n            <span>{{ chip.label }}</span>\n          </mat-option>\n        </mat-autocomplete>\n      </mat-form-field>\n    </form>\n  </div>\n\n  <!--  input  -->\n  <div *ngIf=\"variant == 'input'\">\n    <mat-form-field class=\"chip--form\">\n      <mat-label>{{ label }}</mat-label>\n      <mat-chip-grid #chipGrid aria-label=\"Chips\">\n        <mat-chip-row *ngFor=\"let chip of chipItems\" (removed)=\"remove(chip)\" (destroyed)=\"destroyed.emit()\"\n          [editable]=\"true\" [disabled]=\"chip.disabled\" (edited)=\"edit(chip, $event); edited.emit()\"\n          [aria-description]=\"'pressione enter para editar' + chip.label\" class=\"chip chip--option\"\n          [ngClass]=\"['chip__size', getComputedClassSize(chip)]\">\n          <span class=\"chip__label\">{{ chip.label }}</span>\n          <button matChipRemove [attr.aria-label]=\"'remove ' + chip\">\n            <mat-icon [ngClass]=\"['chip__size', getComputedClassIconSize(chip)]\">close</mat-icon>\n          </button>\n        </mat-chip-row>\n        <input placeholder=\"Adicionar chip...\" [matChipInputFor]=\"chipGrid\" [matChipInputSeparatorKeyCodes]=\"[13]\"\n          [matChipInputAddOnBlur]=\"addOnBlur\" (matChipInputTokenEnd)=\"add($event)\" />\n      </mat-chip-grid>\n    </mat-form-field>\n  </div>\n\n  <!--  form control  -->\n  <div *ngIf=\"variant == 'form-control'\">\n    <mat-form-field class=\"chip--form\">\n      <mat-label>{{ label }}</mat-label>\n      <mat-chip-grid #chipGrid [formControl]=\"chipCtrl\" aria-label=\"chips\">\n        <mat-chip-row *ngFor=\"let chip of chipItems\" (removed)=\"remove(chip)\" (destroyed)=\"destroyed.emit()\"\n          [disabled]=\"chip.disabled\" class=\"chip chip--option\"\n          [ngClass]=\"['chip__size', getComputedClassSize(chip)]\">\n          <span class=\"chip__label\">{{ chip.label }}</span>\n          <button matChipRemove [attr.aria-label]=\"'remove ' + chip\">\n            <mat-icon [ngClass]=\"['chip__size', getComputedClassIconSize(chip)]\">close</mat-icon>\n          </button>\n        </mat-chip-row>\n      </mat-chip-grid>\n      <input placeholder=\"Adicionar chip...\" [matChipInputFor]=\"chipGrid\" (matChipInputTokenEnd)=\"add($event)\" />\n    </mat-form-field>\n  </div>\n\n  <!--  drag and drop  -->\n  <div *ngIf=\"variant == 'drag-drop'\">\n    <mat-chip-set class=\"drag-drop-box\" cdkDropList cdkDropListOrientation=\"horizontal\"\n      (cdkDropListDropped)=\"drop($event)\">\n      <mat-chip class=\"drag-drop-chip\" cdkDrag *ngFor=\"let chip of chipItems\" [disabled]=\"chip.disabled\"\n        class=\"chip chip--option\" [ngClass]=\"['chip__size', getComputedClassSize(chip)]\">\n        <span class=\"chip__label\">{{ chip.label }}</span>\n      </mat-chip>\n    </mat-chip-set>\n  </div>\n</div>\n", styles: ["@media (max-width: 599.98px){.content{padding:var(--dsc-spacing-larger) var(--dsc-spacing-smaller)}}.content .chip{display:flex;align-items:center;border-radius:var(--dsc-border-radius-small);background-color:var(--dsc-color-bg-neutral-1);border:var(--dsc-border-width-hairline) solid var(--dsc-color-border-neutral-4);cursor:pointer}.content .chip--option{transition:background .3s}.content .chip--option:hover{background-color:color-mix(in srgb,var(--dsc-color-state-bg-highlight-hover),transparent 92%)!important}.content .chip--option:active{background-color:color-mix(in srgb,var(--dsc-color-state-bg-highlight-active),transparent 84%)!important}.content .chip--option.mat-mdc-chip-selected{background-color:var(--dsc-color-bg-highlight-1)!important;border-color:var(--dsc-color-border-highlight-1)}.content .chip--option.mat-mdc-chip-selected .chip__label{color:var(--dsc-color-content-highlight-2);font:var(--dsc-typography-text-small-600);font-feature-settings:\"ss01\"}.content .chip--form{width:100%}.content .chip__content{display:flex;align-items:center}.content .chip__size-standard{height:32px}.content .chip__size-standard-avatar{margin-left:var(--dsc-spacing-nano);color:var(--dsc-color-bg-highlight-5);display:flex;align-items:center;justify-content:center}.content .chip__size-standard-avatar-square{height:var(--dsc-icon-size-small);width:var(--dsc-icon-size-small)}.content .chip__size-standard-avatar-rectangular{height:20px;width:32px;border-radius:var(--dsc-border-radius-quark)}.content .chip__size-standard-avatar-rounded{height:20px;width:20px;border-radius:var(--dsc-border-radius-pill)}.content .chip__size-standard-icon{color:var(--dsc-color-bg-highlight-5);height:var(--dsc-icon-size-small);width:var(--dsc-icon-size-small);display:flex;align-items:center;justify-content:center}.content .chip__size-small{height:24px}.content .chip__size-small-avatar{margin-left:var(--dsc-spacing-nano);color:var(--dsc-color-bg-highlight-5);display:flex;align-items:center;justify-content:center}.content .chip__size-small-avatar-square{height:var(--dsc-icon-size-nano);width:var(--dsc-icon-size-nano)}.content .chip__size-small-avatar-rectangular{height:16px;width:26px;border-radius:var(--dsc-border-radius-quark)}.content .chip__size-small-avatar-rounded{height:16px;width:16px;border-radius:var(--dsc-border-radius-pill)}.content .chip__size-small-icon{color:var(--dsc-color-bg-highlight-5);height:var(--dsc-icon-size-nano);width:var(--dsc-icon-size-nano);display:flex;align-items:center;justify-content:center}.content .chip__close-icon{color:var(--dsc-color-bg-highlight-6)}.content .chip__label{padding:0 var(--dsc-spacing-nano);font:var(--dsc-typography-text-small-400);font-feature-settings:\"ss01\";color:var(--dsc-color-content-highlight-1);display:flex;align-items:center}.content .chip__autocomplete-unit{display:flex}.content .chip--option:hover .chip__label,.content .chip--option:active .chip__label{color:var(--dsc-color-content-highlight-2)}.content .chip--option:hover .chip__icon,.content .chip--option:active .chip__icon{color:var(--dsc-color-bg-highlight-6)}.content .drag-drop-box.cdk-drag-animating,.content .drag-drop-chip .cdk-drop-list-dragging{transition:transform .25s cubic-bezier(0,0,.2,1)}.mat-mdc-chip-focus-overlay{background:var(--dsc-color-bg-neutral-1)!important}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--dsc-color-bg-highlight-6)!important}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--dsc-color-bg-neutral-1)!important}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:0!important;padding-right:var(--dsc-spacing-nano)!important}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:var(--dsc-spacing-nano)!important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--dsc-color-state-bg-disabled-1)!important;border-color:var(--dsc-color-state-border-disabled-1)!important;opacity:unset!important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .chip__label{color:var(--dsc-color-state-content-disabled-1)!important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .chip__icon{color:var(--dsc-color-state-bg-disabled-5)!important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .chip__avatar{opacity:var(--dsc-opacity-40)!important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--dsc-color-state-bg-disabled-5)!important}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "directive", type: i1.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "pipe", type: i1.AsyncPipe, name: "async" }, { kind: "ngmodule", type: MatChipsModule }, { kind: "component", type: i2.MatChip, selector: "mat-basic-chip, [mat-basic-chip], mat-chip, [mat-chip]", inputs: ["color", "disabled", "disableRipple", "tabIndex", "role", "id", "aria-label", "aria-description", "value", "removable", "highlighted"], outputs: ["removed", "destroyed"], exportAs: ["matChip"] }, { kind: "component", type: i2.MatChipGrid, selector: "mat-chip-grid", inputs: ["tabIndex", "disabled", "placeholder", "required", "value", "errorStateMatcher"], outputs: ["change", "valueChange"] }, { kind: "directive", type: i2.MatChipInput, selector: "input[matChipInputFor]", inputs: ["matChipInputFor", "matChipInputAddOnBlur", "matChipInputSeparatorKeyCodes", "placeholder", "id", "disabled"], outputs: ["matChipInputTokenEnd"], exportAs: ["matChipInput", "matChipInputFor"] }, { kind: "component", type: i2.MatChipListbox, selector: "mat-chip-listbox", inputs: ["tabIndex", "multiple", "aria-orientation", "selectable", "compareWith", "required", "hideSingleSelectionIndicator", "value"], outputs: ["change"] }, { kind: "component", type: i2.MatChipOption, selector: "mat-basic-chip-option, [mat-basic-chip-option], mat-chip-option, [mat-chip-option]", inputs: ["color", "disabled", "disableRipple", "tabIndex", "selectable", "selected"], outputs: ["selectionChange"] }, { kind: "directive", type: i2.MatChipRemove, selector: "[matChipRemove]" }, { kind: "component", type: i2.MatChipRow, selector: "mat-chip-row, [mat-chip-row], mat-basic-chip-row, [mat-basic-chip-row]", inputs: ["color", "disabled", "disableRipple", "tabIndex", "editable"], outputs: ["edited"] }, { kind: "component", type: i2.MatChipSet, selector: "mat-chip-set", inputs: ["disabled", "role"] }, { kind: "ngmodule", type: MatIconModule }, { kind: "component", type: i3.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { kind: "ngmodule", type: DragDropModule }, { kind: "directive", type: i4.CdkDropList, selector: "[cdkDropList], cdk-drop-list", inputs: ["cdkDropListConnectedTo", "cdkDropListData", "cdkDropListOrientation", "id", "cdkDropListLockAxis", "cdkDropListDisabled", "cdkDropListSortingDisabled", "cdkDropListEnterPredicate", "cdkDropListSortPredicate", "cdkDropListAutoScrollDisabled", "cdkDropListAutoScrollStep"], outputs: ["cdkDropListDropped", "cdkDropListEntered", "cdkDropListExited", "cdkDropListSorted"], exportAs: ["cdkDropList"] }, { kind: "directive", type: i4.CdkDrag, selector: "[cdkDrag]", inputs: ["cdkDragData", "cdkDragLockAxis", "cdkDragRootElement", "cdkDragBoundary", "cdkDragStartDelay", "cdkDragFreeDragPosition", "cdkDragDisabled", "cdkDragConstrainPosition", "cdkDragPreviewClass", "cdkDragPreviewContainer"], outputs: ["cdkDragStarted", "cdkDragReleased", "cdkDragEnded", "cdkDragEntered", "cdkDragExited", "cdkDragDropped", "cdkDragMoved"], exportAs: ["cdkDrag"] }, { kind: "ngmodule", type: MatFormFieldModule }, { kind: "component", type: i5.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "directive", type: i5.MatLabel, selector: "mat-label" }, { kind: "ngmodule", type: MatAutocompleteModule }, { kind: "component", type: i6.MatAutocomplete, selector: "mat-autocomplete", inputs: ["disableRipple", "hideSingleSelectionIndicator"], exportAs: ["matAutocomplete"] }, { kind: "component", type: i7.MatOption, selector: "mat-option", exportAs: ["matOption"] }, { kind: "directive", type: i6.MatAutocompleteTrigger, selector: "input[matAutocomplete], textarea[matAutocomplete]", exportAs: ["matAutocompleteTrigger"] }, { kind: "ngmodule", type: ReactiveFormsModule }, { kind: "directive", type: i8.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { kind: "directive", type: i8.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i8.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i8.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i8.FormControlDirective, selector: "[formControl]", inputs: ["formControl", "disabled", "ngModel"], outputs: ["ngModelChange"], exportAs: ["ngForm"] }], encapsulation: i0.ViewEncapsulation.None }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: DscChipComponent, decorators: [{
            type: Component,
            args: [{ selector: 'dsc-chip', standalone: true, encapsulation: ViewEncapsulation.None, imports: [CommonModule, MatChipsModule, MatIconModule, DragDropModule, MatFormFieldModule, MatAutocompleteModule, ReactiveFormsModule], template: "<div class=\"content\">\n\n  <!--  simple  -->\n  <div *ngIf=\"variant == 'simple'\">\n    <mat-chip-listbox>\n      <mat-chip *ngFor=\"let chip of chipItems\" class=\"chip chip--option\" [disabled]=\"chip.disabled\"\n        (removed)=\"remove(chip)\" (destroyed)=\"destroyed.emit()\"\n        [ngClass]=\"['chip__size', getComputedClassSize(chip)]\">\n        <div class=\"chip__content\">\n          <img *ngIf=\"chip.avatar\" [src]=\"chip.avatar\" [alt]=\"chip.altAvatar || 'Avatar'\"\n            [ngClass]=\"['chip__size', getComputedClass(chip)]\" />\n          <mat-icon *ngIf=\"chip.icon && !chip.selected\" \n            [ngClass]=\"['chip__size', getComputedClassIconSize(chip)]\">{{ chip.icon }}</mat-icon>\n          <span class=\"chip__label\">{{ chip.label }}</span>\n        </div>\n        <button *ngIf='closeButton' matChipRemove [attr.aria-label]=\"'remove ' + chip\">\n          <mat-icon class='chip__close-icon'>close</mat-icon>\n        </button>\n      </mat-chip>\n    </mat-chip-listbox>\n  </div>\n\n  <!--  select  -->\n  <div *ngIf=\"variant == 'select'\">\n    <mat-chip-listbox aria-label=\"Chip selection\" [multiple]='multiple'>\n      <mat-chip-option *ngFor=\"let chip of chipItems;\" (removed)=\"remove(chip)\" (destroyed)=\"destroyed.emit()\"\n        (selectionChange)=\"chip.selected = $event.selected; selectionChange.emit($event)\" [selected]=\"chip.selected\"\n        [disabled]=\"chip.disabled\" class=\"chip chip--option\"\n        [ngClass]=\"['chip__size', getComputedClassSize(chip)]\">\n        <div class=\"chip__content\">\n          <img *ngIf=\"chip.avatar && !chip.selected\" [src]=\"chip.avatar\" [alt]=\"chip.altAvatar || 'Avatar'\"\n            [ngClass]=\"['chip__size', getComputedClass(chip)]\" />\n          <mat-icon *ngIf=\"chip.icon && !chip.selected\"\n            [ngClass]=\"['chip__size', getComputedClassIconSize(chip)]\">{{ chip.icon }}</mat-icon>\n          <span class=\"chip__label\">{{ chip.label }}</span>\n        </div>\n        <button *ngIf='closeButton' matChipRemove [attr.aria-label]=\"'remove ' + chip\">\n          <mat-icon class='chip__close-icon'>close</mat-icon>\n        </button>\n      </mat-chip-option>\n    </mat-chip-listbox>\n  </div>\n\n  <!--  autocomplete  -->\n  <div *ngIf=\"variant == 'autocomplete'\">\n    <form>\n      <mat-form-field class=\"chip--form\">\n        <mat-label>{{ label }}</mat-label>\n        <mat-chip-grid #chipGrid aria-label=\"Chip selection\">\n          <mat-chip-row *ngFor=\"let chip of chipItems\" (removed)=\"remove(chip)\" (destroyed)=\"destroyed.emit()\"\n            [disabled]=\"chip.disabled\" class=\"chip chip--option\"\n            [ngClass]=\"['chip__size', getComputedClassSize(chip)]\">\n            <div class='chip__autocomplete-unit'>\n              <mat-icon *ngIf=\"chip.icon\"\n                [ngClass]=\"['chip__size', getComputedClassIconSize(chip)]\">{{ chip.icon }}</mat-icon>\n              <img *ngIf=\"chip.avatar\" [src]=\"chip.avatar\" [alt]=\"chip.altAvatar || 'Avatar'\"\n                [ngClass]=\"['chip__size', getComputedClass(chip)]\" />\n              <span class=\"chip__label\">{{ chip.label }}</span>\n            </div>\n            <button matChipRemove [attr.aria-label]=\"'remove ' + chip\">\n              <mat-icon class='chip__close-icon'>close</mat-icon>\n            </button>\n          </mat-chip-row>\n        </mat-chip-grid>\n\n        <input [placeholder]=\"placeholder\" #chipInput [formControl]=\"chipCtrl\" [matChipInputFor]=\"chipGrid\"\n          [matAutocomplete]=\"auto\" [matChipInputSeparatorKeyCodes]=\"[13]\" (matChipInputTokenEnd)=\"add($event)\"\n          (input)=\"filterItems()\" />\n\n        <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"selected($event)\">\n          <mat-option *ngFor=\"let chip of filteredItems | async\" [value]=\"chip\" class=\"chip chip--option\">\n            <span>{{ chip.label }}</span>\n          </mat-option>\n        </mat-autocomplete>\n      </mat-form-field>\n    </form>\n  </div>\n\n  <!--  input  -->\n  <div *ngIf=\"variant == 'input'\">\n    <mat-form-field class=\"chip--form\">\n      <mat-label>{{ label }}</mat-label>\n      <mat-chip-grid #chipGrid aria-label=\"Chips\">\n        <mat-chip-row *ngFor=\"let chip of chipItems\" (removed)=\"remove(chip)\" (destroyed)=\"destroyed.emit()\"\n          [editable]=\"true\" [disabled]=\"chip.disabled\" (edited)=\"edit(chip, $event); edited.emit()\"\n          [aria-description]=\"'pressione enter para editar' + chip.label\" class=\"chip chip--option\"\n          [ngClass]=\"['chip__size', getComputedClassSize(chip)]\">\n          <span class=\"chip__label\">{{ chip.label }}</span>\n          <button matChipRemove [attr.aria-label]=\"'remove ' + chip\">\n            <mat-icon [ngClass]=\"['chip__size', getComputedClassIconSize(chip)]\">close</mat-icon>\n          </button>\n        </mat-chip-row>\n        <input placeholder=\"Adicionar chip...\" [matChipInputFor]=\"chipGrid\" [matChipInputSeparatorKeyCodes]=\"[13]\"\n          [matChipInputAddOnBlur]=\"addOnBlur\" (matChipInputTokenEnd)=\"add($event)\" />\n      </mat-chip-grid>\n    </mat-form-field>\n  </div>\n\n  <!--  form control  -->\n  <div *ngIf=\"variant == 'form-control'\">\n    <mat-form-field class=\"chip--form\">\n      <mat-label>{{ label }}</mat-label>\n      <mat-chip-grid #chipGrid [formControl]=\"chipCtrl\" aria-label=\"chips\">\n        <mat-chip-row *ngFor=\"let chip of chipItems\" (removed)=\"remove(chip)\" (destroyed)=\"destroyed.emit()\"\n          [disabled]=\"chip.disabled\" class=\"chip chip--option\"\n          [ngClass]=\"['chip__size', getComputedClassSize(chip)]\">\n          <span class=\"chip__label\">{{ chip.label }}</span>\n          <button matChipRemove [attr.aria-label]=\"'remove ' + chip\">\n            <mat-icon [ngClass]=\"['chip__size', getComputedClassIconSize(chip)]\">close</mat-icon>\n          </button>\n        </mat-chip-row>\n      </mat-chip-grid>\n      <input placeholder=\"Adicionar chip...\" [matChipInputFor]=\"chipGrid\" (matChipInputTokenEnd)=\"add($event)\" />\n    </mat-form-field>\n  </div>\n\n  <!--  drag and drop  -->\n  <div *ngIf=\"variant == 'drag-drop'\">\n    <mat-chip-set class=\"drag-drop-box\" cdkDropList cdkDropListOrientation=\"horizontal\"\n      (cdkDropListDropped)=\"drop($event)\">\n      <mat-chip class=\"drag-drop-chip\" cdkDrag *ngFor=\"let chip of chipItems\" [disabled]=\"chip.disabled\"\n        class=\"chip chip--option\" [ngClass]=\"['chip__size', getComputedClassSize(chip)]\">\n        <span class=\"chip__label\">{{ chip.label }}</span>\n      </mat-chip>\n    </mat-chip-set>\n  </div>\n</div>\n", styles: ["@media (max-width: 599.98px){.content{padding:var(--dsc-spacing-larger) var(--dsc-spacing-smaller)}}.content .chip{display:flex;align-items:center;border-radius:var(--dsc-border-radius-small);background-color:var(--dsc-color-bg-neutral-1);border:var(--dsc-border-width-hairline) solid var(--dsc-color-border-neutral-4);cursor:pointer}.content .chip--option{transition:background .3s}.content .chip--option:hover{background-color:color-mix(in srgb,var(--dsc-color-state-bg-highlight-hover),transparent 92%)!important}.content .chip--option:active{background-color:color-mix(in srgb,var(--dsc-color-state-bg-highlight-active),transparent 84%)!important}.content .chip--option.mat-mdc-chip-selected{background-color:var(--dsc-color-bg-highlight-1)!important;border-color:var(--dsc-color-border-highlight-1)}.content .chip--option.mat-mdc-chip-selected .chip__label{color:var(--dsc-color-content-highlight-2);font:var(--dsc-typography-text-small-600);font-feature-settings:\"ss01\"}.content .chip--form{width:100%}.content .chip__content{display:flex;align-items:center}.content .chip__size-standard{height:32px}.content .chip__size-standard-avatar{margin-left:var(--dsc-spacing-nano);color:var(--dsc-color-bg-highlight-5);display:flex;align-items:center;justify-content:center}.content .chip__size-standard-avatar-square{height:var(--dsc-icon-size-small);width:var(--dsc-icon-size-small)}.content .chip__size-standard-avatar-rectangular{height:20px;width:32px;border-radius:var(--dsc-border-radius-quark)}.content .chip__size-standard-avatar-rounded{height:20px;width:20px;border-radius:var(--dsc-border-radius-pill)}.content .chip__size-standard-icon{color:var(--dsc-color-bg-highlight-5);height:var(--dsc-icon-size-small);width:var(--dsc-icon-size-small);display:flex;align-items:center;justify-content:center}.content .chip__size-small{height:24px}.content .chip__size-small-avatar{margin-left:var(--dsc-spacing-nano);color:var(--dsc-color-bg-highlight-5);display:flex;align-items:center;justify-content:center}.content .chip__size-small-avatar-square{height:var(--dsc-icon-size-nano);width:var(--dsc-icon-size-nano)}.content .chip__size-small-avatar-rectangular{height:16px;width:26px;border-radius:var(--dsc-border-radius-quark)}.content .chip__size-small-avatar-rounded{height:16px;width:16px;border-radius:var(--dsc-border-radius-pill)}.content .chip__size-small-icon{color:var(--dsc-color-bg-highlight-5);height:var(--dsc-icon-size-nano);width:var(--dsc-icon-size-nano);display:flex;align-items:center;justify-content:center}.content .chip__close-icon{color:var(--dsc-color-bg-highlight-6)}.content .chip__label{padding:0 var(--dsc-spacing-nano);font:var(--dsc-typography-text-small-400);font-feature-settings:\"ss01\";color:var(--dsc-color-content-highlight-1);display:flex;align-items:center}.content .chip__autocomplete-unit{display:flex}.content .chip--option:hover .chip__label,.content .chip--option:active .chip__label{color:var(--dsc-color-content-highlight-2)}.content .chip--option:hover .chip__icon,.content .chip--option:active .chip__icon{color:var(--dsc-color-bg-highlight-6)}.content .drag-drop-box.cdk-drag-animating,.content .drag-drop-chip .cdk-drop-list-dragging{transition:transform .25s cubic-bezier(0,0,.2,1)}.mat-mdc-chip-focus-overlay{background:var(--dsc-color-bg-neutral-1)!important}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--dsc-color-bg-highlight-6)!important}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--dsc-color-bg-neutral-1)!important}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:0!important;padding-right:var(--dsc-spacing-nano)!important}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:var(--dsc-spacing-nano)!important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--dsc-color-state-bg-disabled-1)!important;border-color:var(--dsc-color-state-border-disabled-1)!important;opacity:unset!important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .chip__label{color:var(--dsc-color-state-content-disabled-1)!important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .chip__icon{color:var(--dsc-color-state-bg-disabled-5)!important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .chip__avatar{opacity:var(--dsc-opacity-40)!important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--dsc-color-state-bg-disabled-5)!important}\n"] }]
        }], propDecorators: { chipItems: [{
                type: Input
            }], label: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], variant: [{
                type: Input
            }], shape: [{
                type: Input
            }], size: [{
                type: Input
            }], multiple: [{
                type: Input
            }], closeButton: [{
                type: Input
            }], destroyed: [{
                type: Output
            }], removed: [{
                type: Output
            }], selectionChange: [{
                type: Output
            }], edited: [{
                type: Output
            }], change: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHNjLWNoaXAuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvc2lkc2MtY29tcG9uZW50cy9kc2MtY2hpcHMvZHNjLWNoaXAuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vcHJvamVjdHMvc2lkc2MtY29tcG9uZW50cy9kc2MtY2hpcHMvZHNjLWNoaXAuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztHQUdHO0FBQ0gsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMxRixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUtMLGNBQWMsRUFDZixNQUFNLHlCQUF5QixDQUFDO0FBRWpDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUN2RCxPQUFPLEVBQWUsY0FBYyxFQUFFLGVBQWUsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3RGLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQ2xFLE9BQU8sRUFBRSxxQkFBcUIsRUFBZ0MsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNyRyxPQUFPLEVBQUUsV0FBVyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDbEUsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQzs7Ozs7Ozs7OztBQThCbEMsTUFBTSxPQUFPLGdCQUFnQjtJQVI3QjtRQVVFLDZDQUE2QztRQUNwQyxjQUFTLEdBQWtCLEVBQUUsQ0FBQztRQUV2QyxnQ0FBZ0M7UUFDdkIsVUFBSyxHQUFXLE9BQU8sQ0FBQztRQUVqQyxrRUFBa0U7UUFDekQsZ0JBQVcsR0FBVyxtQkFBbUIsQ0FBQztRQUVuRCx5Q0FBeUM7UUFDaEMsWUFBTyxHQUFvQixRQUFRLENB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QWlDO1FBQ3BDLGVBQWUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQzNFLENBQUM7K0dBNUtVLGdCQUFnQjttR0FBaEIsZ0JBQWdCLHlYQ2pEN0IsMGhOQStIQSwyaEpEbEZZLFlBQVksa1pBQUUsY0FBYyxvckRBQUUsYUFBYSxtTEFBRSxjQUFjLDY4QkFBRSxrQkFBa0IsMFNBQUUscUJBQXFCLGdjQUFFLG1CQUFtQjs7NEZBSTFILGdCQUFnQjtrQkFSNUIsU0FBUzsrQkFDRSxVQUFVLGNBQ1IsSUFBSSxpQkFDRCxpQkFBaUIsQ0FBQyxJQUFJLFdBQzVCLENBQUMsWUFBWSxFQUFFLGNBQWMsRUFBRSxhQUFhLEVBQUUsY0FBYyxFQUFFLGtCQUFrQixFQUFFLHFCQUFxQixFQUFFLG1CQUFtQixDQUFFOzhCQU85SCxTQUFTO3NCQUFqQixLQUFLO2dCQUdHLEtBQUs7c0JBQWIsS0FBSztnQkFHRyxXQUFXO3NCQUFuQixLQUFLO2dCQUdHLE9BQU87c0JBQWYsS0FBSztnQkFRRixLQUFLO3NCQURSLEtBQUs7Z0JBV0EsSUFBSTtzQkFEUCxLQUFLO2dCQXFDQyxRQUFRO3NCQUFoQixLQUFLO2dCQUdHLFdBQVc7c0JBQW5CLEtBQUs7Z0JBR0ksU0FBUztzQkFBbEIsTUFBTTtnQkFHRyxPQUFPO3NCQUFoQixNQUFNO2dCQUdHLGVBQWU7c0JBQXhCLE1BQU07Z0JBR0csTUFBTTtzQkFBZixNQUFNO2dCQUdHLE1BQU07c0JBQWYsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29tcG9uZW50ZSBkZSBDaGlwIChUYWcpIGN1c3RvbWl6YWRvIHBhcmEgbyBEZXNpZ24gU3lzdGVtIERTQy5cbiAqIFBlcm1pdGUgYWRpY2lvbmFyLCByZW1vdmVyLCBlZGl0YXIgZSByZW9yZ2FuaXphciBjaGlwcywgYWzDqW0gZGUgc3Vwb3J0YXIgYXV0b2NvbXBsZXRlIGUgZHJhZy1hbmQtZHJvcC5cbiAqL1xuaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtcbiAgTWF0Q2hpcEVkaXRlZEV2ZW50LFxuICBNYXRDaGlwRXZlbnQsIE1hdENoaXBHcmlkQ2hhbmdlLFxuICBNYXRDaGlwTGlzdGJveENoYW5nZSxcbiAgTWF0Q2hpcFNlbGVjdGlvbkNoYW5nZSxcbiAgTWF0Q2hpcHNNb2R1bGVcbn0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvY2hpcHMnO1xuaW1wb3J0IHsgRHNjQ2hpcEl0ZW0gfSBmcm9tICcuL3NoYXJlZC9kc2MtY2hpcC1pdGVtJztcbmltcG9ydCB7IE1hdEljb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9pY29uJztcbmltcG9ydCB7IENka0RyYWdEcm9wLCBEcmFnRHJvcE1vZHVsZSwgbW92ZUl0ZW1JbkFycmF5IH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2RyYWctZHJvcCc7XG5pbXBvcnQgeyBNYXRGb3JtRmllbGRNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9mb3JtLWZpZWxkJztcbmltcG9ydCB7IE1hdEF1dG9jb21wbGV0ZU1vZHVsZSwgTWF0QXV0b2NvbXBsZXRlU2VsZWN0ZWRFdmVudCB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2F1dG9jb21wbGV0ZSc7XG5pbXBvcnQgeyBGb3JtQ29udHJvbCwgUmVhY3RpdmVGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcblxuLyoqXG4gKiBGb3JtYXRvcyBkaXNwb27DrXZlaXMgcGFyYSBhIGltYWdlbSBkbyBjaGlwLlxuICovXG5leHBvcnQgdHlwZSBEc2NDaGlwc0ltYWdlU2hhcGUgPSAncm91bmRlZCcgfCAncmVjdGFuZ3VsYXInIHwgJ3NxdWFyZSc7XG5cbi8qKlxuICogVGFtYW5obyBkbyBjaGlwcy5cbiAqL1xuZXhwb3J0IHR5cGUgRHNjQ2hpcHNTaXplID0gJ3N0YW5kYXJkJyB8ICdzbWFsbCc7XG5cbi8qKlxuICogVmFyaWFudGVzIGRvIGNoaXAuXG4gKi9cbmV4cG9ydCB0eXBlIERzY0NoaXBzVmFyaWFudCA9ICdzaW1wbGUnXG4gIHwgJ3NlbGVjdCdcbiAgfCAnaW5wdXQnXG4gIHwgJ2F1dG9jb21wbGV0ZSdcbiAgfCAnZm9ybS1jb250cm9sJ1xuICB8ICdkcmFnLWRyb3AnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdkc2MtY2hpcCcsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIE1hdENoaXBzTW9kdWxlLCBNYXRJY29uTW9kdWxlLCBEcmFnRHJvcE1vZHVsZSwgTWF0Rm9ybUZpZWxkTW9kdWxlLCBNYXRBdXRvY29tcGxldGVNb2R1bGUsIFJlYWN0aXZlRm9ybXNNb2R1bGUgXSxcbiAgdGVtcGxhdGVVcmw6ICcuL2RzYy1jaGlwLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vZHNjLWNoaXAuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBEc2NDaGlwQ29tcG9uZW50IHtcblxuICAvKiogTGlzdGEgZGUgY2hpcHMgZXhpYmlkb3Mgbm8gY29tcG9uZW50ZS4gKi9cbiAgQElucHV0KCkgY2hpcEl0ZW1zOiBEc2NDaGlwSXRlbVtdID0gW107XG5cbiAgLyoqIFLDs3R1bG8gZG8gY2FtcG8gZGUgY2hpcHMuICovXG4gIEBJbnB1dCgpIGxhYmVsOiBzdHJpbmcgPSAnQ2hpcHMnO1xuXG4gIC8qKiBQbGFjZWhvbGRlciBkbyBjYW1wbyBkZSBlbnRyYWRhIHBhcmEgYWRpY2lvbmFyIG5vdm9zIGNoaXBzLiAqL1xuICBASW5wdXQoKSBwbGFjZWhvbGRlcjogc3RyaW5nID0gJ0FkaWNpb25hciBjaGlwLi4uJztcblxuICAvKiogVmFyaWFudGUgZG8gY29tcG9ydGFtZW50byBkbyBjaGlwLiAqL1xuICBASW5wdXQoKSB2YXJpYW50OiBEc2NDaGlwc1ZhcmlhbnQgPSAnc2ltcGxlJztcblxuICBwcml2YXRlIF9pbWFnZVNoYXBlOiBEc2NDaGlwc0ltYWdlU2hhcGUgPSAnc3F1YXJlJztcblxuICBwcml2YXRlIF9jaGlwc1NpemU6IERzY0NoaXBzU2l6ZSA9ICdzdGFuZGFyZCc7XG5cbiAgLyoqIEZvcm1hdG8gZGEgaW1hZ2VtIGFzc29jaWFkYSBhbyBjaGlwLiAqL1xuICBASW5wdXQoKVxuICBnZXQgc2hhcGUoKTogRHNjQ2hpcHNJbWFnZVNoYXBlIHtcbiAgICByZXR1cm4gdGhpcy5faW1hZ2VTaGFwZTtcbiAgfVxuXG4gIHNldCBzaGFwZSh2YWx1ZTogRHNjQ2hpcHNJbWFnZVNoYXBlKSB7XG4gICAgdGhpcy5faW1hZ2VTaGFwZSA9IHZhbHVlIHx8ICdzcXVhcmUnO1xuICB9XG5cbiAgICAvKiogdGFtYW5obyBkbyBjaGlwLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgZ2V0IHNpemUoKTogRHNjQ2hpcHNTaXplIHtcbiAgICAgIHJldHVybiB0aGlzLl9jaGlwc1NpemU7XG4gICAgfVxuICBcbiAgICBzZXQgc2l6ZSh2YWx1ZTogRHNjQ2hpcHNTaXplKSB7XG4gICAgICB0aGlzLl9jaGlwc1NpemUgPSB2YWx1ZSB8fCAnc3RhbmRhcmQnO1xuICAgIH1cblxuICAvKipcbiAgICogUmV0b3JuYSBhIGNsYXNzZSBDU1MgY29ycmVzcG9uZGVudGUgYW8gZm9ybWF0byBkYSBpbWFnZW0gZG8gY2hpcC5cbiAgICogQHBhcmFtIGNoaXAgTyBjaGlwIHBhcmEgb2J0ZXIgYSBjbGFzc2UuXG4gICAqIEByZXR1cm5zIENsYXNzZSBDU1MgY29ycmVzcG9uZGVudGUuXG4gICAqL1xuICBnZXRDb21wdXRlZENsYXNzKGNoaXA6IERzY0NoaXBJdGVtKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYGNoaXBfX3NpemUtJHtjaGlwLnNpemUgfHwgdGhpcy5fY2hpcHNTaXplfS1hdmF0YXItJHtjaGlwLmltYWdlU2hhcGUgfHwgdGhpcy5faW1hZ2VTaGFwZX1gO1xuICB9XG4gIFxuICAvKipcbiAgICogUmV0b3JuYSBhIGNsYXNzZSBDU1MgY29ycmVzcG9uZGVudGUgYW8gdGFtYW5obyBkbyBjaGlwLlxuICAgKiBAcGFyYW0gY2hpcCBPIGNoaXAgcGFyYSBvYnRlciBhIGNsYXNzZS5cbiAgICogQHJldHVybnMgQ2xhc3NlIENTUyBjb3JyZXNwb25kZW50ZS5cbiAgICovXG4gIGdldENvbXB1dGVkQ2xhc3NTaXplKGNoaXA6IERzY0NoaXBJdGVtKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYGNoaXBfX3NpemUtJHtjaGlwLnNpemUgfHwgdGhpcy5fY2hpcHNTaXplfWA7XG4gIH1cblxuICAvKipcbiAgICogUmV0b3JuYSBhIGNsYXNzZSBDU1MgY29ycmVzcG9uZGVudGUgYW8gdGFtYW5obyBkbyDDrWNvbmUgZG8gY2hpcC5cbiAgICogQHBhcmFtIGNoaXAgTyBjaGlwIHBhcmEgb2J0ZXIgYSBjbGFzc2UuXG4gICAqIEByZXR1cm5zIENsYXNzZSBDU1MgY29ycmVzcG9uZGVudGUuXG4gICAqL1xuICAgIGdldENvbXB1dGVkQ2xhc3NJY29uU2l6ZShjaGlwOiBEc2NDaGlwSXRlbSk6IHN0cmluZyB7XG4gICAgICByZXR1cm4gYGNoaXBfX3NpemUtJHtjaGlwLnNpemUgfHwgdGhpcy5fY2hpcHNTaXplfS1pY29uYDtcbiAgICB9XG5cbiAgLyoqIERlZmluZSBzZSBtw7psdGlwbG9zIGNoaXBzIHBvZGVtIHNlciBhZGljaW9uYWRvcy4gKi9cbiAgQElucHV0KCkgbXVsdGlwbGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKiogRXhpYmUgYm90w6NvIGRlIGZlY2hhciBub3MgY2hpcHMuICovXG4gIEBJbnB1dCgpIGNsb3NlQnV0dG9uOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqIEV2ZW50byBlbWl0aWRvIHF1YW5kbyB1bSBjaGlwIMOpIGRlc3RydcOtZG8uICovXG4gIEBPdXRwdXQoKSBkZXN0cm95ZWQgPSBuZXcgRXZlbnRFbWl0dGVyPE1hdENoaXBFdmVudD47XG5cbiAgLyoqIEV2ZW50byBlbWl0aWRvIHF1YW5kbyB1bSBjaGlwIMOpIHJlbW92aWRvLiAqL1xuICBAT3V0cHV0KCkgcmVtb3ZlZCA9IG5ldyBFdmVudEVtaXR0ZXI8TWF0Q2hpcEV2ZW50PjtcblxuICAvKiogRXZlbnRvIGVtaXRpZG8gcXVhbmRvIGjDoSBtdWRhbsOnYSBkZSBzZWxlw6fDo28gZW0gdW0gY2hpcC4gKi9cbiAgQE91dHB1dCgpIHNlbGVjdGlvbkNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8TWF0Q2hpcFNlbGVjdGlvbkNoYW5nZT47XG5cbiAgLyoqIEV2ZW50byBlbWl0aWRvIHF1YW5kbyB1bSBjaGlwIMOpIGVkaXRhZG8uICovXG4gIEBPdXRwdXQoKSBlZGl0ZWQgPSBuZXcgRXZlbnRFbWl0dGVyPE1hdENoaXBFZGl0ZWRFdmVudD47XG5cbiAgLyoqIEV2ZW50byBlbWl0aWRvIHF1YW5kbyBow6EgYWx0ZXJhw6fDo28gbmEgbGlzdGEgZGUgY2hpcHMuICovXG4gIEBPdXRwdXQoKSBjaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPE1hdENoaXBMaXN0Ym94Q2hhbmdlIHwgTWF0Q2hpcEdyaWRDaGFuZ2U+O1xuXG4gIC8qKiBDb250cm9sZSBkbyBjYW1wbyBkZSBmb3JtdWzDoXJpby4gKi9cbiAgY2hpcEN0cmwgPSBuZXcgRm9ybUNvbnRyb2woKTtcblxuICAvKiogTGlzdGEgZGUgaXRlbnMgZmlsdHJhZG9zIHBhcmEgYXV0b2NvbXBsZXRlLiAqL1xuICBmaWx0ZXJlZEl0ZW1zOiBPYnNlcnZhYmxlPERzY0NoaXBJdGVtW10+ID0gbmV3IE9ic2VydmFibGUoKTtcblxuICAvKiogUGVybWl0ZSBhZGljaW9uYXIgY2hpcHMgYW8gcGVyZGVyIG8gZm9jby4gKi9cbiAgYWRkT25CbHVyID0gdHJ1ZTtcblxuICAvKipcbiAgICogUmVtb3ZlIHVtIGNoaXAgZGEgbGlzdGEuXG4gICAqIEBwYXJhbSBjaGlwIE8gY2hpcCBhIHNlciByZW1vdmlkby5cbiAgICovXG4gIHJlbW92ZShjaGlwOiBEc2NDaGlwSXRlbSk6IHZvaWQge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jaGlwSXRlbXMuaW5kZXhPZihjaGlwKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdGhpcy5jaGlwSXRlbXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHRoaXMucmVtb3ZlZD8uZW1pdCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGljaW9uYSB1bSBjaGlwIHNlbGVjaW9uYWRvIG5vIGF1dG9jb21wbGV0ZS5cbiAgICogQHBhcmFtIGV2ZW50IEV2ZW50byBkZSBzZWxlw6fDo28uXG4gICAqL1xuICBzZWxlY3RlZChldmVudDogTWF0QXV0b2NvbXBsZXRlU2VsZWN0ZWRFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbTogRHNjQ2hpcEl0ZW0gPSBldmVudC5vcHRpb24udmFsdWU7XG5cbiAgICB0aGlzLmNoaXBJdGVtcy5wdXNoKHtcbiAgICAgIGxhYmVsOiBzZWxlY3RlZEl0ZW0ubGFiZWwsXG4gICAgICBpY29uOiBzZWxlY3RlZEl0ZW0uaWNvbixcbiAgICAgIGF2YXRhcjogc2VsZWN0ZWRJdGVtLmF2YXRhcixcbiAgICAgIGFsdEF2YXRhcjogc2VsZWN0ZWRJdGVtLmFsdEF2YXRhcixcbiAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZEl0ZW0uc2VsZWN0ZWRcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaWx0cmEgb3MgaXRlbnMgZGlzcG9uw612ZWlzIHBhcmEgYXV0b2NvbXBsZXRlIGNvbSBiYXNlIG5hIGVudHJhZGEgZG8gdXN1w6FyaW8uXG4gICAqL1xuICBmaWx0ZXJJdGVtcygpIHtcbiAgICB0aGlzLmZpbHRlcmVkSXRlbXMgPSBuZXcgT2JzZXJ2YWJsZShvYnNlcnZlciA9PiB7XG4gICAgICBvYnNlcnZlci5uZXh0KHRoaXMuY2hpcEl0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0ubGFiZWwudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0aGlzLmNoaXBDdHJsLnZhbHVlPy50b0xvd2VyQ2FzZSgpIHx8ICcnKSkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkaWNpb25hIHVtIG5vdm8gY2hpcCDDoCBsaXN0YS5cbiAgICogQHBhcmFtIGV2ZW50IEV2ZW50byBjb250ZW5kbyBvIHZhbG9yIGRvIG5vdm8gY2hpcCBlIG8gY2FtcG8gZGUgZW50cmFkYSBhc3NvY2lhZG8uXG4gICAqL1xuICBhZGQoZXZlbnQ6IHsgdmFsdWU6IHN0cmluZzsgaW5wdXQ6IHsgdmFsdWU6IHN0cmluZzsgfTsgfSk6IHZvaWQge1xuXG4gICAgaWYodGhpcy52YXJpYW50ICE9ICdhdXRvY29tcGxldGUnKSB7XG4gICAgICBjb25zdCBpbnB1dFZhbHVlID0gZXZlbnQudmFsdWUudHJpbSgpO1xuXG4gICAgICBpZiAoaW5wdXRWYWx1ZSkge1xuICAgICAgICB0aGlzLmNoaXBJdGVtcy5wdXNoKHsgbGFiZWw6IGlucHV0VmFsdWUgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGV2ZW50LmlucHV0LnZhbHVlID0gJyc7XG4gIH1cblxuICAvKipcbiAgICogRWRpdGEgdW0gY2hpcCBleGlzdGVudGUuXG4gICAqIEBwYXJhbSBjaGlwIE8gY2hpcCBhIHNlciBlZGl0YWRvLlxuICAgKiBAcGFyYW0gZXZlbnQgRXZlbnRvIGNvbnRlbmRvIG8gbm92byB2YWxvciBkbyBjaGlwLlxuICAgKi9cbiAgZWRpdChjaGlwOiBEc2NDaGlwSXRlbSwgZXZlbnQ6IE1hdENoaXBFZGl0ZWRFdmVudCkge1xuICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudmFsdWUudHJpbSgpO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHRoaXMucmVtb3ZlKGNoaXApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jaGlwSXRlbXMuaW5kZXhPZihjaGlwKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdGhpcy5jaGlwSXRlbXNbaW5kZXhdLmxhYmVsID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlb3JnYW5pemEgb3MgY2hpcHMgcG9yIG1laW8gZGUgZHJhZy1hbmQtZHJvcC5cbiAgICogQHBhcmFtIGV2ZW50IEV2ZW50byBkZSBhcnJhc3RhciBlIHNvbHRhci5cbiAgICovXG4gIGRyb3AoZXZlbnQ6IENka0RyYWdEcm9wPERzY0NoaXBJdGVtW10+KSB7XG4gICAgbW92ZUl0ZW1JbkFycmF5KHRoaXMuY2hpcEl0ZW1zLCBldmVudC5wcmV2aW91c0luZGV4LCBldmVudC5jdXJyZW50SW5kZXgpO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuXG4gIDwhLS0gIHNpbXBsZSAgLS0+XG4gIDxkaXYgKm5nSWY9XCJ2YXJpYW50ID09ICdzaW1wbGUnXCI+XG4gICAgPG1hdC1jaGlwLWxpc3Rib3g+XG4gICAgICA8bWF0LWNoaXAgKm5nRm9yPVwibGV0IGNoaXAgb2YgY2hpcEl0ZW1zXCIgY2xhc3M9XCJjaGlwIGNoaXAtLW9wdGlvblwiIFtkaXNhYmxlZF09XCJjaGlwLmRpc2FibGVkXCJcbiAgICAgICAgKHJlbW92ZWQpPVwicmVtb3ZlKGNoaXApXCIgKGRlc3Ryb3llZCk9XCJkZXN0cm95ZWQuZW1pdCgpXCJcbiAgICAgICAgW25nQ2xhc3NdPVwiWydjaGlwX19zaXplJywgZ2V0Q29tcHV0ZWRDbGFzc1NpemUoY2hpcCldXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGlwX19jb250ZW50XCI+XG4gICAgICAgICAgPGltZyAqbmdJZj1cImNoaXAuYXZhdGFyXCIgW3NyY109XCJjaGlwLmF2YXRhclwiIFthbHRdPVwiY2hpcC5hbHRBdmF0YXIgfHwgJ0F2YXRhcidcIlxuICAgICAgICAgICAgW25nQ2xhc3NdPVwiWydjaGlwX19zaXplJywgZ2V0Q29tcHV0ZWRDbGFzcyhjaGlwKV1cIiAvPlxuICAgICAgICAgIDxtYXQtaWNvbiAqbmdJZj1cImNoaXAuaWNvbiAmJiAhY2hpcC5zZWxlY3RlZFwiIFxuICAgICAgICAgICAgW25nQ2xhc3NdPVwiWydjaGlwX19zaXplJywgZ2V0Q29tcHV0ZWRDbGFzc0ljb25TaXplKGNoaXApXVwiPnt7IGNoaXAuaWNvbiB9fTwvbWF0LWljb24+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGlwX19sYWJlbFwiPnt7IGNoaXAubGFiZWwgfX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uICpuZ0lmPSdjbG9zZUJ1dHRvbicgbWF0Q2hpcFJlbW92ZSBbYXR0ci5hcmlhLWxhYmVsXT1cIidyZW1vdmUgJyArIGNoaXBcIj5cbiAgICAgICAgICA8bWF0LWljb24gY2xhc3M9J2NoaXBfX2Nsb3NlLWljb24nPmNsb3NlPC9tYXQtaWNvbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L21hdC1jaGlwPlxuICAgIDwvbWF0LWNoaXAtbGlzdGJveD5cbiAgPC9kaXY+XG5cbiAgPCEtLSAgc2VsZWN0ICAtLT5cbiAgPGRpdiAqbmdJZj1cInZhcmlhbnQgPT0gJ3NlbGVjdCdcIj5cbiAgICA8bWF0LWNoaXAtbGlzdGJveCBhcmlhLWxhYmVsPVwiQ2hpcCBzZWxlY3Rpb25cIiBbbXVsdGlwbGVdPSdtdWx0aXBsZSc+XG4gICAgICA8bWF0LWNoaXAtb3B0aW9uICpuZ0Zvcj1cImxldCBjaGlwIG9mIGNoaXBJdGVtcztcIiAocmVtb3ZlZCk9XCJyZW1vdmUoY2hpcClcIiAoZGVzdHJveWVkKT1cImRlc3Ryb3llZC5lbWl0KClcIlxuICAgICAgICAoc2VsZWN0aW9uQ2hhbmdlKT1cImNoaXAuc2VsZWN0ZWQgPSAkZXZlbnQuc2VsZWN0ZWQ7IHNlbGVjdGlvbkNoYW5nZS5lbWl0KCRldmVudClcIiBbc2VsZWN0ZWRdPVwiY2hpcC5zZWxlY3RlZFwiXG4gICAgICAgIFtkaXNhYmxlZF09XCJjaGlwLmRpc2FibGVkXCIgY2xhc3M9XCJjaGlwIGNoaXAtLW9wdGlvblwiXG4gICAgICAgIFtuZ0NsYXNzXT1cIlsnY2hpcF9fc2l6ZScsIGdldENvbXB1dGVkQ2xhc3NTaXplKGNoaXApXVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2hpcF9fY29udGVudFwiPlxuICAgICAgICAgIDxpbWcgKm5nSWY9XCJjaGlwLmF2YXRhciAmJiAhY2hpcC5zZWxlY3RlZFwiIFtzcmNdPVwiY2hpcC5hdmF0YXJcIiBbYWx0XT1cImNoaXAuYWx0QXZhdGFyIHx8ICdBdmF0YXInXCJcbiAgICAgICAgICAgIFtuZ0NsYXNzXT1cIlsnY2hpcF9fc2l6ZScsIGdldENvbXB1dGVkQ2xhc3MoY2hpcCldXCIgLz5cbiAgICAgICAgICA8bWF0LWljb24gKm5nSWY9XCJjaGlwLmljb24gJiYgIWNoaXAuc2VsZWN0ZWRcIlxuICAgICAgICAgICAgW25nQ2xhc3NdPVwiWydjaGlwX19zaXplJywgZ2V0Q29tcHV0ZWRDbGFzc0ljb25TaXplKGNoaXApXVwiPnt7IGNoaXAuaWNvbiB9fTwvbWF0LWljb24+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGlwX19sYWJlbFwiPnt7IGNoaXAubGFiZWwgfX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uICpuZ0lmPSdjbG9zZUJ1dHRvbicgbWF0Q2hpcFJlbW92ZSBbYXR0ci5hcmlhLWxhYmVsXT1cIidyZW1vdmUgJyArIGNoaXBcIj5cbiAgICAgICAgICA8bWF0LWljb24gY2xhc3M9J2NoaXBfX2Nsb3NlLWljb24nPmNsb3NlPC9tYXQtaWNvbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L21hdC1jaGlwLW9wdGlvbj5cbiAgICA8L21hdC1jaGlwLWxpc3Rib3g+XG4gIDwvZGl2PlxuXG4gIDwhLS0gIGF1dG9jb21wbGV0ZSAgLS0+XG4gIDxkaXYgKm5nSWY9XCJ2YXJpYW50ID09ICdhdXRvY29tcGxldGUnXCI+XG4gICAgPGZvcm0+XG4gICAgICA8bWF0LWZvcm0tZmllbGQgY2xhc3M9XCJjaGlwLS1mb3JtXCI+XG4gICAgICAgIDxtYXQtbGFiZWw+e3sgbGFiZWwgfX08L21hdC1sYWJlbD5cbiAgICAgICAgPG1hdC1jaGlwLWdyaWQgI2NoaXBHcmlkIGFyaWEtbGFiZWw9XCJDaGlwIHNlbGVjdGlvblwiPlxuICAgICAgICAgIDxtYXQtY2hpcC1yb3cgKm5nRm9yPVwibGV0IGNoaXAgb2YgY2hpcEl0ZW1zXCIgKHJlbW92ZWQpPVwicmVtb3ZlKGNoaXApXCIgKGRlc3Ryb3llZCk9XCJkZXN0cm95ZWQuZW1pdCgpXCJcbiAgICAgICAgICAgIFtkaXNhYmxlZF09XCJjaGlwLmRpc2FibGVkXCIgY2xhc3M9XCJjaGlwIGNoaXAtLW9wdGlvblwiXG4gICAgICAgICAgICBbbmdDbGFzc109XCJbJ2NoaXBfX3NpemUnLCBnZXRDb21wdXRlZENsYXNzU2l6ZShjaGlwKV1cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9J2NoaXBfX2F1dG9jb21wbGV0ZS11bml0Jz5cbiAgICAgICAgICAgICAgPG1hdC1pY29uICpuZ0lmPVwiY2hpcC5pY29uXCJcbiAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJbJ2NoaXBfX3NpemUnLCBnZXRDb21wdXRlZENsYXNzSWNvblNpemUoY2hpcCldXCI+e3sgY2hpcC5pY29uIH19PC9tYXQtaWNvbj5cbiAgICAgICAgICAgICAgPGltZyAqbmdJZj1cImNoaXAuYXZhdGFyXCIgW3NyY109XCJjaGlwLmF2YXRhclwiIFthbHRdPVwiY2hpcC5hbHRBdmF0YXIgfHwgJ0F2YXRhcidcIlxuICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cIlsnY2hpcF9fc2l6ZScsIGdldENvbXB1dGVkQ2xhc3MoY2hpcCldXCIgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGlwX19sYWJlbFwiPnt7IGNoaXAubGFiZWwgfX08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b24gbWF0Q2hpcFJlbW92ZSBbYXR0ci5hcmlhLWxhYmVsXT1cIidyZW1vdmUgJyArIGNoaXBcIj5cbiAgICAgICAgICAgICAgPG1hdC1pY29uIGNsYXNzPSdjaGlwX19jbG9zZS1pY29uJz5jbG9zZTwvbWF0LWljb24+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L21hdC1jaGlwLXJvdz5cbiAgICAgICAgPC9tYXQtY2hpcC1ncmlkPlxuXG4gICAgICAgIDxpbnB1dCBbcGxhY2Vob2xkZXJdPVwicGxhY2Vob2xkZXJcIiAjY2hpcElucHV0IFtmb3JtQ29udHJvbF09XCJjaGlwQ3RybFwiIFttYXRDaGlwSW5wdXRGb3JdPVwiY2hpcEdyaWRcIlxuICAgICAgICAgIFttYXRBdXRvY29tcGxldGVdPVwiYXV0b1wiIFttYXRDaGlwSW5wdXRTZXBhcmF0b3JLZXlDb2Rlc109XCJbMTNdXCIgKG1hdENoaXBJbnB1dFRva2VuRW5kKT1cImFkZCgkZXZlbnQpXCJcbiAgICAgICAgICAoaW5wdXQpPVwiZmlsdGVySXRlbXMoKVwiIC8+XG5cbiAgICAgICAgPG1hdC1hdXRvY29tcGxldGUgI2F1dG89XCJtYXRBdXRvY29tcGxldGVcIiAob3B0aW9uU2VsZWN0ZWQpPVwic2VsZWN0ZWQoJGV2ZW50KVwiPlxuICAgICAgICAgIDxtYXQtb3B0aW9uICpuZ0Zvcj1cImxldCBjaGlwIG9mIGZpbHRlcmVkSXRlbXMgfCBhc3luY1wiIFt2YWx1ZV09XCJjaGlwXCIgY2xhc3M9XCJjaGlwIGNoaXAtLW9wdGlvblwiPlxuICAgICAgICAgICAgPHNwYW4+e3sgY2hpcC5sYWJlbCB9fTwvc3Bhbj5cbiAgICAgICAgICA8L21hdC1vcHRpb24+XG4gICAgICAgIDwvbWF0LWF1dG9jb21wbGV0ZT5cbiAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XG4gICAgPC9mb3JtPlxuICA8L2Rpdj5cblxuICA8IS0tICBpbnB1dCAgLS0+XG4gIDxkaXYgKm5nSWY9XCJ2YXJpYW50ID09ICdpbnB1dCdcIj5cbiAgICA8bWF0LWZvcm0tZmllbGQgY2xhc3M9XCJjaGlwLS1mb3JtXCI+XG4gICAgICA8bWF0LWxhYmVsPnt7IGxhYmVsIH19PC9tYXQtbGFiZWw+XG4gICAgICA8bWF0LWNoaXAtZ3JpZCAjY2hpcEdyaWQgYXJpYS1sYWJlbD1cIkNoaXBzXCI+XG4gICAgICAgIDxtYXQtY2hpcC1yb3cgKm5nRm9yPVwibGV0IGNoaXAgb2YgY2hpcEl0ZW1zXCIgKHJlbW92ZWQpPVwicmVtb3ZlKGNoaXApXCIgKGRlc3Ryb3llZCk9XCJkZXN0cm95ZWQuZW1pdCgpXCJcbiAgICAgICAgICBbZWRpdGFibGVdPVwidHJ1ZVwiIFtkaXNhYmxlZF09XCJjaGlwLmRpc2FibGVkXCIgKGVkaXRlZCk9XCJlZGl0KGNoaXAsICRldmVudCk7IGVkaXRlZC5lbWl0KClcIlxuICAgICAgICAgIFthcmlhLWRlc2NyaXB0aW9uXT1cIidwcmVzc2lvbmUgZW50ZXIgcGFyYSBlZGl0YXInICsgY2hpcC5sYWJlbFwiIGNsYXNzPVwiY2hpcCBjaGlwLS1vcHRpb25cIlxuICAgICAgICAgIFtuZ0NsYXNzXT1cIlsnY2hpcF9fc2l6ZScsIGdldENvbXB1dGVkQ2xhc3NTaXplKGNoaXApXVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2hpcF9fbGFiZWxcIj57eyBjaGlwLmxhYmVsIH19PC9zcGFuPlxuICAgICAgICAgIDxidXR0b24gbWF0Q2hpcFJlbW92ZSBbYXR0ci5hcmlhLWxhYmVsXT1cIidyZW1vdmUgJyArIGNoaXBcIj5cbiAgICAgICAgICAgIDxtYXQtaWNvbiBbbmdDbGFzc109XCJbJ2NoaXBfX3NpemUnLCBnZXRDb21wdXRlZENsYXNzSWNvblNpemUoY2hpcCldXCI+Y2xvc2U8L21hdC1pY29uPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L21hdC1jaGlwLXJvdz5cbiAgICAgICAgPGlucHV0IHBsYWNlaG9sZGVyPVwiQWRpY2lvbmFyIGNoaXAuLi5cIiBbbWF0Q2hpcElucHV0Rm9yXT1cImNoaXBHcmlkXCIgW21hdENoaXBJbnB1dFNlcGFyYXRvcktleUNvZGVzXT1cIlsxM11cIlxuICAgICAgICAgIFttYXRDaGlwSW5wdXRBZGRPbkJsdXJdPVwiYWRkT25CbHVyXCIgKG1hdENoaXBJbnB1dFRva2VuRW5kKT1cImFkZCgkZXZlbnQpXCIgLz5cbiAgICAgIDwvbWF0LWNoaXAtZ3JpZD5cbiAgICA8L21hdC1mb3JtLWZpZWxkPlxuICA8L2Rpdj5cblxuICA8IS0tICBmb3JtIGNvbnRyb2wgIC0tPlxuICA8ZGl2ICpuZ0lmPVwidmFyaWFudCA9PSAnZm9ybS1jb250cm9sJ1wiPlxuICAgIDxtYXQtZm9ybS1maWVsZCBjbGFzcz1cImNoaXAtLWZvcm1cIj5cbiAgICAgIDxtYXQtbGFiZWw+e3sgbGFiZWwgfX08L21hdC1sYWJlbD5cbiAgICAgIDxtYXQtY2hpcC1ncmlkICNjaGlwR3JpZCBbZm9ybUNvbnRyb2xdPVwiY2hpcEN0cmxcIiBhcmlhLWxhYmVsPVwiY2hpcHNcIj5cbiAgICAgICAgPG1hdC1jaGlwLXJvdyAqbmdGb3I9XCJsZXQgY2hpcCBvZiBjaGlwSXRlbXNcIiAocmVtb3ZlZCk9XCJyZW1vdmUoY2hpcClcIiAoZGVzdHJveWVkKT1cImRlc3Ryb3llZC5lbWl0KClcIlxuICAgICAgICAgIFtkaXNhYmxlZF09XCJjaGlwLmRpc2FibGVkXCIgY2xhc3M9XCJjaGlwIGNoaXAtLW9wdGlvblwiXG4gICAgICAgICAgW25nQ2xhc3NdPVwiWydjaGlwX19zaXplJywgZ2V0Q29tcHV0ZWRDbGFzc1NpemUoY2hpcCldXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGlwX19sYWJlbFwiPnt7IGNoaXAubGFiZWwgfX08L3NwYW4+XG4gICAgICAgICAgPGJ1dHRvbiBtYXRDaGlwUmVtb3ZlIFthdHRyLmFyaWEtbGFiZWxdPVwiJ3JlbW92ZSAnICsgY2hpcFwiPlxuICAgICAgICAgICAgPG1hdC1pY29uIFtuZ0NsYXNzXT1cIlsnY2hpcF9fc2l6ZScsIGdldENvbXB1dGVkQ2xhc3NJY29uU2l6ZShjaGlwKV1cIj5jbG9zZTwvbWF0LWljb24+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvbWF0LWNoaXAtcm93PlxuICAgICAgPC9tYXQtY2hpcC1ncmlkPlxuICAgICAgPGlucHV0IHBsYWNlaG9sZGVyPVwiQWRpY2lvbmFyIGNoaXAuLi5cIiBbbWF0Q2hpcElucHV0Rm9yXT1cImNoaXBHcmlkXCIgKG1hdENoaXBJbnB1dFRva2VuRW5kKT1cImFkZCgkZXZlbnQpXCIgLz5cbiAgICA8L21hdC1mb3JtLWZpZWxkPlxuICA8L2Rpdj5cblxuICA8IS0tICBkcmFnIGFuZCBkcm9wICAtLT5cbiAgPGRpdiAqbmdJZj1cInZhcmlhbnQgPT0gJ2RyYWctZHJvcCdcIj5cbiAgICA8bWF0LWNoaXAtc2V0IGNsYXNzPVwiZHJhZy1kcm9wLWJveFwiIGNka0Ryb3BMaXN0IGNka0Ryb3BMaXN0T3JpZW50YXRpb249XCJob3Jpem9udGFsXCJcbiAgICAgIChjZGtEcm9wTGlzdERyb3BwZWQpPVwiZHJvcCgkZXZlbnQpXCI+XG4gICAgICA8bWF0LWNoaXAgY2xhc3M9XCJkcmFnLWRyb3AtY2hpcFwiIGNka0RyYWcgKm5nRm9yPVwibGV0IGNoaXAgb2YgY2hpcEl0ZW1zXCIgW2Rpc2FibGVkXT1cImNoaXAuZGlzYWJsZWRcIlxuICAgICAgICBjbGFzcz1cImNoaXAgY2hpcC0tb3B0aW9uXCIgW25nQ2xhc3NdPVwiWydjaGlwX19zaXplJywgZ2V0Q29tcHV0ZWRDbGFzc1NpemUoY2hpcCldXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiY2hpcF9fbGFiZWxcIj57eyBjaGlwLmxhYmVsIH19PC9zcGFuPlxuICAgICAgPC9tYXQtY2hpcD5cbiAgICA8L21hdC1jaGlwLXNldD5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==